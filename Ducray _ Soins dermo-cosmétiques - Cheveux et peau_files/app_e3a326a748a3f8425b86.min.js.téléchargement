(window.CCIwebpackJsonp=window.CCIwebpackJsonp||[]).push([[4],[,function(e,t,n){"use strict";n.d(t,"h",(function(){return a.a})),n.d(t,"c",(function(){return r.a})),n.d(t,"g",(function(){return o})),n.d(t,"r",(function(){return s})),n.d(t,"l",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"s",(function(){return l})),n.d(t,"q",(function(){return f})),n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return d})),n.d(t,"o",(function(){return i})),n.d(t,"n",(function(){return p})),n.d(t,"u",(function(){return h})),n.d(t,"t",(function(){return m})),n.d(t,"m",(function(){return g})),n.d(t,"j",(function(){return b})),n.d(t,"p",(function(){return T})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return C})),n.d(t,"i",(function(){return y}));var a=n(3),r=n(42),i={ArticleReach:{},Article:{limit:20,resultFields:"CustomFields"},OnlineShop:{limit:20,resultFields:"Id,Name,Logos,OfferInfo,CustomFields,CustomerRestriction,Currency,CustomContactViaWhatsapp"},LocalStore:{limit:20,resultFields:"Id,Name,Description,ContactInfo,GeoInfo,AddressInfo,StoreType,Logos,Currency,OfferInfo,OpeningHours,ClickAndCollectLink,CustomFields,CustomerRestriction,Open247"},LocalStoreAmount:{}},o='script[id*="cci-widget"]',s=[a.a.TOKEN,a.a.TARGET_CONTAINER,a.a.WIDGET_ID,a.a.SUB_ID,a.a.TRACKING_ID,a.a.LANGUAGE,a.a.COUNTRY,a.a.LOCALE,a.a.DISPLAY_LANGUAGE,a.a.EAN,a.a.MAN,a.a.PZN,a.a.PRODUCT_IMAGE,a.a.PRODUCT_TITLE,a.a.PRODUCT_DESCRIPTION,a.a.UTM_SOURCE,a.a.UTM_MEDIUM,a.a.UTM_CAMPAIGN,a.a.UTM_TERM,a.a.UTM_CONTENT,a.a.GENERIC_TRACKING,a.a.GTM_TRACKING,a.a.DISPLAY_BNO,a.a.DISPLAY_BNIS],l=[a.a.EAN,a.a.MAN,a.a.PZN,a.a.PRODUCT_IMAGE,a.a.PRODUCT_TITLE,a.a.PRODUCT_DESCRIPTION,a.a.UTM_SOURCE,a.a.UTM_MEDIUM,a.a.UTM_CAMPAIGN,a.a.UTM_TERM,a.a.UTM_CONTENT,a.a.DISPLAY_BNO,a.a.DISPLAY_BNIS],c=[a.a.TOKEN,a.a.WIDGET_ID],u=c.concat([a.a.MODE]),f=[a.a.EAN,a.a.MAN,a.a.PZN,a.a.PRODUCT_IMAGE,a.a.PRODUCT_TITLE,a.a.PRODUCT_DESCRIPTION,a.a.DISPLAY_BNO,a.a.DISPLAY_BNIS],_={POPUP:"popup",INLINE:"inline"},d={ONLINE:"bno",LOCAL:"bnis"},p={DEFAULT:"default",LARGE:"large",SMALL:"small"},h={DEFAULT:"default",CC:"cc"},m={DEFAULT:"default",STICKY:"sticky"},y={FOOTER:"footer",POPUP:"pop-up"},g={LIST:"list",PAGES:"pages"},b={KM:"km",MILES:"mi",AUTO:"automatic"},T={B2B:"b2b",B2C:"b2c",FAST_DELIVERY:"fast-delivery",IN_STOCK:"in-stock",NOW_OPEN:"now-open",CLICK_COLLECT:"click-collect",TRUSTED:"trusted"},v=[T.FAST_DELIVERY,T.B2B,T.B2C,T.IN_STOCK,T.NOW_OPEN,T.CLICK_COLLECT],O=[T.FAST_DELIVERY,T.B2B,T.B2C],C=[T.IN_STOCK,T.NOW_OPEN,T.CLICK_COLLECT]},,function(e,t,n){"use strict";t.a={SESSION_ID:"_sessionId",DEVICE_TYPE:"deviceType",TOKEN:"token",LANGUAGE:"language",COUNTRY:"country",LOCALE:"locale",SUB_ID:"subid",SUB_UNIQUE_ID:"subidUniqueId",TRACKING_ID:"trackingid",WIDGET_ID:"widgetid",DISPLAY_LANGUAGE:"displaylanguage",TRIGGER_SELECTOR:"triggerSelector",UTM_SOURCE:"utm_source",UTM_MEDIUM:"utm_medium",UTM_CAMPAIGN:"utm_campaign",UTM_TERM:"utm_term",UTM_CONTENT:"utm_content",GENERIC_TRACKING:"generic_tracking",GTM_TRACKING:"eventgtm",ANON_T:"anon_t",IS_MULTIPLE:"multiple",TARGET_CONTAINER:"target",DISPLAY_BNO:"bno",DISPLAY_BNIS:"bnis",EAN:"ean",MAN:"man",PZN:"pzn",PRODUCT_IMAGE:"varProductImage",PRODUCT_TITLE:"varProductTitle",PRODUCT_DESCRIPTION:"varProductDescription",MODE:"mode",POPUP_SIZE:"popupSize",BUYNOW_CHANNELS:"buyNowChannels",SMART_CHANNEL_ACTIVATION:"smartChannelActivation",CHANNEL_NAME_BNO:"channelNameBNO",CHANNEL_NAME_BNIS:"channelNameBNIS",WTB_BUTTON_MODE:"wtbButtonMode",WTB_BUTTON_TEXT_COLOR:"wtbButtonTextColor",WTB_BUTTON_BG_COLOR:"wtbButtonBgColor",WTB_BUTTON_BEHAVIOR:"wtbButtonBehavior",WTB_BUTTON_SMART_ACTIVATION:"wtbButtonSmartActivation",CLICK_AND_COLLECT:"clickAndCollect",CLICK_COLLECT_BUTTON_TEXT_COLOR:"clickCollectButtonTextColor",CLICK_COLLECT_BUTTON_BG_COLOR:"clickCollectButtonBgColor",COUNTRY_SELECTION:"countrySelection",COUNTRY_SELECTOR:"countrySelector",VARIANT_SELECTION_TYPE:"variantSelectionType",BRAND_LOGO_IMAGE:"brandLogoImage",SHOW_TITLEBAR:"showBrandTitleBar",SHOW_BRAND_LOGO:"showBrandLogo",SHOW_PRODUCT_VARIANTS:"showProductVariants",SHOW_PRODUCT_HEADER:"showProductHeader",SHOW_PRODUCT_TITLE:"showProductTitle",SHOW_PRODUCT_IMAGE:"showProductImage",SHOW_PRODUCT_DESCRIPTION:"showProductDescription",SHOW_FILTER_BAR:"showFilterBar",SHOW_SHOP_RATING:"showShopRating",SHOW_SHOP_BADGES:"showShopBadges",BNO_MAX_RESULTS:"bnoMaxResults",BNO_MAX_DELIVERY_TIME:"bnoMaxDeliveryTime",BNO_ITEMS_PER_PAGE:"bnoItemsPerPage",BNO_ITEMS_PER_PAGE_MOBILE:"bnoItemsPerPageMobile",BNO_PAGINATION_TYPE:"bnoPaginationType",BNO_BUTTON_TEXT_COLOR:"bnoButtonTextColor",BNO_BUTTON_BG_COLOR:"bnoButtonBgColor",BNO_SHOW_RETAILER_NAME:"bnoShowRetailerName",BNO_SHOW_RETAILER_ATTRIBUTES:"bnoShowRetailerAttributes",BNO_SHOW_DELIVERY_TIME:"bnoShowDeliveryTime",BNO_SHOW_PRICE:"bnoShowPrice",BNO_FILTER_B2B_B2C:"bnoFilterB2BB2C",BNO_FILTER_FAST_DELIVERY:"bnoFilterFastDelivery",BNO_FILTER_SHOP_ATTRIBUTES:"bnoFilterShopAttributes",BNO_SHOW_DISCLAIMER_MESSAGE:"showDisclaimerMessage",BNO_SHOW_POPUP_DISCLAIMER_MESSAGE:"showPopupDisclaimerMessage",BNO_DISCLAIMER_MESSAGE_TYPE:"bnoDisclaimerMessageType",CART_ICON:"cartIcon",BNIS_RESULT_CRITERION:"bnisResultCriterion",BNIS_FILTER_B2B_B2C:"bnisFilterB2BB2C",BNIS_FILTER_IN_STOCK:"bnisFilterInStock",BNIS_FILTER_NOW_OPEN:"bnisFilterNowOpen",BNIS_FILTER_CLICK_COLLECT:"bnisFilterClickCollect",BNIS_MAPS_API_KEY:"bnisMapsApiKey",BNIS_MAPS_API_PROVIDER:"bnisMapsApiProvider",BNIS_MAP_THEME:"bnisMapTheme",BNIS_MAX_RESULTS:"bnisMaxResults",BNIS_ITEMS_PER_PAGE:"bnisItemsPerPage",BNIS_SHOW_STOCK_INFO:"bnisShowStockInfo",BNIS_DISTANCE_UNIT:"bnisDistanceUnit",BNIS_SEARCH_RADIUS:"bnisSearchRadius",BNIS_SHOW_AUTOLOCATE_BTN:"bnisShowAutolocateBtn",BNIS_SHOW_MAP:"bnisShowMap",BNIS_SHOW_DISCLAIMER_MESSAGE:"showDisclaimerFooterMessage",BNIS_SHOW_POPUP_DISCLAIMER_MESSAGE:"showBnisPopupDisclaimerMessage",BNIS_SHOW_WHATS_APP:"showWhatsApp",TRACKING_VIEW_TYPE:"view_type",TRACKING_INLINE_WIDGET:"inline_widget",TRACKING_SUBID_ID:"data_subid_id"}},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=["AT","BE","CZ","CH","DE","DK","ES","FI","FR","GB","GR","HU","IE","IT","LU","NL","PL","PT","SE","SK","LU","LT","LV","EE","RO","BG","HR","SI","FI","RU"],r={EU:"https://api-eu.global.commerce-connector.com/REST/2.0/",INT:"https://api.commerce-connector.com/REST/2.0/"},i={EAN:"F_Ean",MAN:"F_ManufacturerArticleNumber",MAN_OPERATOR:"F_ManufacturerArticleNumber[CompareOperator]",PZN:"F_Pzn",PZN_OPERATOR:"F_Pzn[CompareOperator]",SUBID:"F_SubId",TOKEN:"token",COUNTRY:"Country",LANG:"Language",DEVICE:"deviceType",SINGLE_PRODUCT:"F_Display_Single_Product",TRACKING_ID:"trackingId",OFFSET:"",LIMIT:"O_ResultAmount[Limit]",RELATIONS:"O_ResultFields",KEEP_ORDER:"O_MaintainProductOrder",LOCATION:{LAT:"F_Lat",LNG:"F_Lng",ZIP:"F_Postcode",CITY:"F_City",COUNTRY:"Country"},AVAILABILITY_VAL:"F_Availability[Value]",DISTANCE_VAL:"F_Distance[Value]",DISTANCE_OPERATOR:"F_Distance[CompareOperator]",DELIVERY_VAL:"F_DeliveryTime[Value]",DELIVERY_OPERATOR:"F_DeliveryTime[CompareOperator]",WHATS_UPP:"CustomContactViaWhatsapp",TYPE:"productLine"}},,,function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return f})),n.d(t,"k",(function(){return _})),n.d(t,"l",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"h",(function(){return y}));var a=n(1);function r(e,t){if(!e)return!1;var n=!0;return t.forEach((function(t){void 0===e[t]&&(n=!1)})),n}function i(e){return r(e,a.l)}function o(e){return r(e,a.k)}function s(e){return"object"==typeof e&&(!!e[a.h.EAN]||(!!e[a.h.MAN]||!!e[a.h.PZN]))}function l(e){if(e){var t=e.match(/(\w{2})[-_](\w{2})/);if(t&&3===t.length)return{language:t[1].toLowerCase(),country:t[2].toUpperCase()}}return!1}function c(e){return e?(e.locale?(t=l(e.locale))&&(n=t.language,a=t.country):!e.language&&e.displaylanguage&&(e.language=e.displaylanguage),e.language&&(n=e.language),e.country&&(a=e.country),n&&!a&&(t=l(n))&&(n=t.language,a=t.country),n&&a&&(e.language=n.toLowerCase(),e.country=a.toUpperCase(),e.locale=[e.language,e.country].join("-")),e):null;var t,n,a}function u(e){if(!e)return"";var t=e.replace("-","_").split("_"),n=t[0].toLowerCase();return t.length>1?n+"_"+t[1].toUpperCase():n}function f(){return window.CCIW||(window.CCIW=[]),window.CCIW}function _(){return window.CCIW.shift()}function d(e){return window.CCIW=Array.prototype.slice.call(document.querySelectorAll(e),0),window.CCIW}function p(e){var t={};return e&&a.r.forEach((function(n){var a=e.getAttribute("data-"+n.toLowerCase());a&&(t[n]="generic_tracking"===n?encodeURIComponent(JSON.stringify(a)):"bno"===n||"bnis"===n?"true"===a:"ean"===n&&a?function(e){var t=e.toString();if(14!==t.length){for(;t.length<14;)t="0"+t;return t}return t}(a):a)})),t}function h(e){var t={};return e&&a.s.forEach((function(n){var a=e.getAttribute("data-"+n.toLowerCase());a&&(t[n]="bno"===n||"bnis"===n?"true"===a:a)})),t}function m(e){return a.d.filter((function(t){switch(t){case a.p.B2B:case a.p.B2C:return e[a.h.BNO_FILTER_B2B_B2C];case a.p.FAST_DELIVERY:return e[a.h.BNO_FILTER_FAST_DELIVERY];case a.p.IN_STOCK:return e[a.h.BNIS_FILTER_IN_STOCK];case a.p.NOW_OPEN:return e[a.h.BNIS_FILTER_NOW_OPEN];case a.p.CLICK_COLLECT:return e[a.h.BNIS_FILTER_CLICK_COLLECT]}return e[a.h.BNO_FILTER_SHOP_ATTRIBUTES]}))}function y(e,t,n){var a=-1;for(n||0===n||(n=" "),t-=(e=String(e)).length;++a<t;)e=n+e;return e}},function(e,t,n){"use strict";var a=n(0),r=n.n(a).a.createContext({apiProvider:void 0,apiKey:void 0,apiModule:void 0});t.a=r},function(e,t,n){"use strict";var a=n(0),r=Object(a.createContext)({appConf:null,productConf:null,appTheme:null,locale:null,handleTriggerElement:function(){},getLanguage:function(){},getCountry:function(){},isMobile:null,isMobileLandscape:!1,isModalOpened:!1,setIsModalOpened:function(){},isCountryModalOpened:!1,setCountryModalOpened:function(){},isProductModalOpened:!1,setProductModalOpened:function(){},isFilterOpened:!1,setIsFilterOpened:function(){},isDisclaimerOpen:!1,setIsDisclaimerOpen:function(){},searchLocation:null,setSearchLocation:function(){},geoLocation:{location:null,pending:!1,error:null},detectGeoLocation:function(){},resetGeolocation:function(){},modalLayout:null,requestModalLayout:function(){},activeChannel:null,setActiveChannel:function(){},availableFilters:[],activeFilters:[],setActiveFilters:function(){},lastClickedBtn:null,setLastClickedBtn:function(){},hasBNOResults:!1,setHasBNOResults:function(){},hasBNISResults:!1,setHasBNISResults:function(){}});t.a=r},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var a=n(16),r=n(0),i=n.n(r),o=Object(r.createContext)();function s(e){return function(t){var n=Object(r.useContext)(o).theme;return i.a.createElement(e,Object(a.a)({},t,{theme:n}))}}t.a=o},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return f}));var a=n(0),r=n.n(a),i=n(8),o=function(){return r.a.useContext(i.a).apiModule},s=function(){return r.a.useContext(i.a).apiKey},l=function(){return r.a.useContext(i.a).country},c=function(){return r.a.useContext(i.a).language},u=function(){var e=o();return e?e.getMapComponent():null},f=function(){var e=o();return e?e.getSearchInputComponent():null}},,function(e,t,n){"use strict";t.a={fontFamily:"inherit",palette:{color0:"#000000",color1:"#ffffff",color2:"#666666",color3:"#b2b2b2",color4:"#c8c8c8",color5:"#f7f7f7",color6:"#159c78",color7:"#ee6452",color8:"#ff8d00",color9:"#ff0000",colorGreen:"#159c78",colorRed:"#ee6452"},textPrimaryColor:"#000000",textSecondaryColor:"#666666",textLinkColor:"#666666",textLinkHoverColor:"#000000",spinnerColor:"#c8c8c8",pinActiveColor:"#ee6452",pinInactiveColor:"#b2b2b2",greenColor:"#159c78",redColor:"#ee6452",yellowColor:"#ff8d00"}},,,,,,function(e,t,n){"use strict";t.a=function(){return window.CCI&&"rtl"===window.CCI.__direction}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c}));var a=n(11),r=n.n(a),i=n(19),o=n(4),s=function(e){return-1!==o.c.indexOf(e.toUpperCase())?o.a.EU:o.a.INT},l=function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a,i,o,l,c,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.country,i=n.buyNowChannels,o="bno"===i[0]?"Online":"Local",l=s(a),c=""+l+t+"?F_SubId="+n.subid+"&context="+o+"&token="+n.token+"&Country="+n.country,e.next=7,new Promise((function(e,t){fetch(c,{method:"GET"}).then((function(t){e(t)})).catch((function(e){t(e)}))}));case 7:if((u=e.sent).ok){e.next=10;break}throw Error(u.statusText);case 10:return e.abrupt("return",u.json());case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c=function(e,t){var n=!1;return new Promise((function(a,r){var i=setTimeout((function(){n=!0,r(new Error("Request timed out"))}),t);fetch(e,{method:"GET"}).then((function(e){clearTimeout(i),n||a(e)})).catch((function(e){n||r(e)}))})).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()}))}},function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=r.a.shape({lat:r.a.number.isRequired,lng:r.a.number.isRequired}),o=r.a.shape({id:r.a.string.isRequired,location:i});r.a.string,r.a.string,r.a.string,r.a.string,r.a.string,r.a.number,r.a.string,r.a.bool,r.a.string,r.a.string,r.a.arrayOf(o),r.a.func,r.a.string,r.a.string,r.a.number,r.a.string,r.a.shape({address:r.a.string}),r.a.any,r.a.func,r.a.func,r.a.func,r.a.func,r.a.func.isRequired,r.a.func},,function(e,t,n){"use strict";var a=n(0),r=Object(a.createContext)();t.a=r},function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return m}));var a=n(0),r=n.n(a),i=function(e){var t=e.color||"#ffffff";return r.a.createElement("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"60px",height:"60px",viewBox:"-17.5 -17.5 60 60",overflow:"visible"},r.a.createElement("polygon",{fill:t,points:"25,24.141 24.141,25 12.5,13.361 0.861,25 0,24.141 11.639,12.5 0,0.861 0.861,0 12.5,11.639 24.141,0 25,0.861 13.362,12.5 "}))},o=function(e){var t=e.color||"#ffffff";return r.a.createElement("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"35px",height:"35px",viewBox:"-17.5 -17.5 60 60",overflow:"visible"},r.a.createElement("polygon",{fill:t,points:"25,24.141 24.141,25 12.5,13.361 0.861,25 0,24.141 11.639,12.5 0,0.861 0.861,0 12.5,11.639 24.141,0 25,0.861 13.362,12.5 "}))},s=function(e){var t=e.color||"#ffffff";return r.a.createElement("svg",{"aria-hidden":"true",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"19px",height:"19px",viewBox:"0 0 48.749 48.748"},r.a.createElement("g",null,r.a.createElement("path",{fill:t,d:"M44.268,10.32c-0.371-0.524-0.758-1.035-1.17-1.527C38.624,3.424,31.891,0,24.374,0c-0.014,0-0.025,0.001-0.037,0.001 C24.329,0.001,24.323,0,24.315,0c-0.027,0-0.055,0.003-0.084,0.003C16.771,0.046,10.097,3.46,5.649,8.793 c-0.41,0.493-0.799,1.003-1.17,1.527C1.663,14.295,0,19.142,0,24.374c0,5.231,1.662,10.08,4.479,14.054 c0.371,0.524,0.76,1.035,1.17,1.527c4.447,5.333,11.121,8.747,18.582,8.79c0.029,0,0.057,0.003,0.084,0.003 c0.008,0,0.014-0.001,0.021-0.001c0.012,0,0.023,0.001,0.037,0.001c7.518,0,14.25-3.423,18.725-8.792 c0.41-0.492,0.799-1.004,1.17-1.528c2.816-3.975,4.479-8.822,4.479-14.055C48.747,19.143,47.084,14.295,44.268,10.32z M17.249,3.17 c-2.24,2.161-4.102,5.32-5.385,9.111c-1.719-0.642-3.266-1.415-4.6-2.289C9.879,6.886,13.318,4.494,17.249,3.17z M6.09,11.521 c1.516,1.012,3.268,1.897,5.205,2.626c-0.836,3.054-1.316,6.444-1.334,10.021H2.004C2.047,19.463,3.562,15.109,6.09,11.521z M2.079,26.168H10c0.129,2.994,0.584,5.835,1.293,8.434c-1.938,0.729-3.689,1.614-5.203,2.627 C3.849,34.048,2.404,30.266,2.079,26.168z M7.27,38.752c1.334-0.872,2.877-1.643,4.592-2.285c1.283,3.792,3.146,6.949,5.387,9.11 C13.318,44.254,9.886,41.857,7.27,38.752z M23.374,46.676c-4.104-0.562-7.646-4.771-9.654-10.833 c2.895-0.868,6.172-1.394,9.654-1.479V46.676z M23.374,32.366c-3.672,0.088-7.133,0.655-10.215,1.601 c-0.631-2.396-1.035-5.025-1.156-7.798h11.371V32.366z M23.374,24.168H11.961c0.018-3.359,0.455-6.532,1.207-9.384 c3.078,0.943,6.537,1.511,10.205,1.598V24.168z M23.374,14.384c-3.48-0.085-6.756-0.609-9.648-1.477 c2.007-6.059,5.546-10.272,9.648-10.835V14.384z M46.741,24.168h-8.072c-0.018-3.562-0.492-6.938-1.322-9.981 c1.98-0.736,3.769-1.635,5.31-2.665C45.184,15.11,46.698,19.463,46.741,24.168z M41.481,9.994 c-1.361,0.891-2.943,1.676-4.703,2.325c-1.295-3.843-3.184-7.04-5.459-9.209C35.323,4.421,38.825,6.84,41.481,9.994z M25.374,2.087 c4.059,0.627,7.555,4.832,9.541,10.85c-2.865,0.849-6.104,1.363-9.541,1.447V2.087z M25.374,16.383 c3.625-0.086,7.045-0.642,10.096-1.565c0.748,2.844,1.182,6.005,1.199,9.351H25.374V16.383z M25.374,26.168h11.254 c-0.121,2.76-0.523,5.377-1.148,7.766c-3.055-0.926-6.479-1.481-10.104-1.568L25.374,26.168L25.374,26.168z M25.374,46.661V34.365 c3.439,0.084,6.678,0.598,9.547,1.447C32.932,41.832,29.432,46.034,25.374,46.661z M31.319,45.639 c2.275-2.168,4.168-5.363,5.463-9.207c1.756,0.648,3.336,1.432,4.695,2.321C38.821,41.906,35.323,44.327,31.319,45.639z M42.657,37.229c-1.541-1.03-3.33-1.931-5.311-2.666c0.702-2.588,1.153-5.416,1.28-8.394h8.041 C46.342,30.266,44.901,34.049,42.657,37.229z"})))},l=function(e){var t=e.color||"#EE6452",n=e.bgColor||"#FFFFFF";return e.active?r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"10 10 40 40","aria-hidden":"true",tabIndex:"-1",id:"pinIcon"},r.a.createElement("path",{fill:n,d:"M30 31.3c-3 0-5.4-2.4-5.4-5.4s2.4-5.4 5.4-5.4c3 0 5.4 2.4 5.4 5.4S33 31.3 30 31.3z"}),r.a.createElement("path",{fill:t,d:"M30 13.5c-7.3 0-13.1 5.9-13.1 13.1 0 9.7 13.1 19.5 13.1 19.5s13.1-9.8 13.1-19.5c0-7.3-5.8-13.1-13.1-13.1zm0 17.7c-2.5 0-4.6-2-4.6-4.6s2-4.6 4.6-4.6 4.6 2 4.6 4.6-2.1 4.6-4.6 4.6z"}),r.a.createElement("path",{fill:n,d:"M30 13.5c7.3 0 13.1 5.9 13.1 13.1 0 9.7-13.1 19.5-13.1 19.5s-13.1-9.8-13.1-19.5c0-7.3 5.8-13.1 13.1-13.1m0 17.7c2.5 0 4.6-2 4.6-4.6 0-2.5-2-4.6-4.6-4.6-2.5 0-4.6 2-4.6 4.6 0 2.5 2.1 4.6 4.6 4.6m0-19.4c-8.2 0-14.8 6.7-14.8 14.8C15.2 37 28.4 47.1 29 47.5l1 .8 1-.8c.6-.4 13.8-10.5 13.8-20.9 0-4-1.5-7.7-4.3-10.5S34 11.8 30 11.8z"})):r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"10 10 40 40","aria-hidden":"true",tabIndex:"-1"},r.a.createElement("path",{fill:t,d:"M30 31.3c-3 0-5.4-2.4-5.4-5.4s2.4-5.4 5.4-5.4c3 0 5.4 2.4 5.4 5.4S33 31.3 30 31.3z"}))},c=r.a.createElement("path",{fill:"none",d:"M22,2c11.046,0,20,8.954,20,20"}),u=function(e){return r.a.createElement("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"30px",height:"30px",viewBox:"-8 -8 60 60",overflow:"visible"},c,r.a.createElement("path",{fill:"none",stroke:e.color,strokeWidth:"4",strokeMiterlimit:"10",d:"M42,22c0,11.046-8.954,20-20,20S2,33.046,2,22 S10.954,2,22,2"}))},f=function(e){var t=e.color||"currentcolor",n=e.size||24;return r.a.createElement("svg",{version:"1.1",alt:"",width:n,height:n,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fill:t,d:"M0 16.67l2.829 2.83 9.175-9.339 9.167 9.339 2.829-2.83-11.996-12.17z"}))},_=function(e){var t=e.color||"currentcolor",n=e.size||24;return r.a.createElement("svg",{version:"1.1",alt:"",width:n,height:n,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fill:t,d:"M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"}))},d=function(e){var t=e.color||"#000000";return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{fill:t,d:"M9 22l-10-10.598 2.798-2.859 7.149 7.473 13.144-14.016 2.909 2.806z"}))},p=function(e){var t=e.color||"#000000";return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40"},r.a.createElement("rect",{fill:t,x:"3",y:"3",width:"4",height:"4"}),r.a.createElement("rect",{fill:t,x:"3",y:"13",width:"4",height:"4"}),r.a.createElement("rect",{fill:t,x:"3",y:"23",width:"4",height:"4"}),r.a.createElement("rect",{fill:t,x:"3",y:"33",width:"4",height:"4"}),r.a.createElement("rect",{fill:t,x:"11",y:"3",width:"26",height:"4"}),r.a.createElement("rect",{fill:t,x:"11",y:"13",width:"26",height:"4"}),r.a.createElement("rect",{fill:t,x:"11",y:"23",width:"26",height:"4"}),r.a.createElement("rect",{fill:t,x:"11",y:"33",width:"26",height:"4"}))},h=function(e){var t=e.color||"#000000";return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{fill:t,d:"M23 20.168l-8.185-8.187 8.185-8.174-2.832-2.807-8.182 8.179-8.176-8.179-2.81 2.81 8.186 8.196-8.186 8.184 2.81 2.81 8.203-8.192 8.18 8.192z"}))},m=function(e){var t=e.color||"#000000";return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15px",height:"15px",viewBox:"0 0 40 40",version:"1.1"},r.a.createElement("path",{fill:t,d:"M 29.234375 8.625 L 21.109375 0.460938 C 21.105469 0.460938 21.105469 0.457031 21.105469 0.457031 C 20.496094 -0.152344 19.503906 -0.152344 18.894531 0.457031 C 18.894531 0.457031 18.894531 0.460938 18.890625 0.460938 L 10.765625 8.625 C 10.160156 9.234375 10.160156 10.226562 10.773438 10.832031 C 11.382812 11.441406 12.375 11.441406 12.984375 10.828125 L 18.4375 5.347656 L 18.4375 38.4375 C 18.4375 39.300781 19.136719 40 20 40 C 20.863281 40 21.5625 39.300781 21.5625 38.4375 L 21.5625 5.347656 L 27.015625 10.828125 C 27.625 11.441406 28.617188 11.441406 29.226562 10.832031 C 29.839844 10.226562 29.839844 9.234375 29.234375 8.625 Z M 29.234375 8.625 "}))}},function(e,t,n){"use strict";var a=n(0),r=Object(a.createContext)({isPendingArticle:!1,isErrorArticle:!1,resultsArticle:null,loadResultsArticle:function(){},isPendingBNO:!1,isErrorBNO:!1,resultsBNO:null,filteredResultsBNO:null,checkResultsBNO:function(){},loadResultsBNO:function(){},isPendingBNIS:!1,isErrorBNIS:!1,resultsBNIS:null,filteredResultsBNIS:null,loadResultsBNIS:function(){},productVariant:!1,utmParams:null,setProductVariant:function(){}});t.a=r},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){var t=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","generic_tracking"],n={},a=document.createElement("a");a.href=e;for(var r=a.search.substring(1).split("&"),i=0;i<r.length;i++){var o=r[i].split("=");if(-1!==t.indexOf(o[0]))if("generic_tracking"===o[0])try{n[o[0]]=JSON.parse(decodeURIComponent(o[1]))}catch(e){console.warn("Generic tracking param is not valid JSON")}else n[o[0]]=decodeURIComponent(o[1])}return n}},function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return _}));var a=n(11),r=n.n(a),i=n(19),o=n(1),s=n(23),l=function(e){var t=e.smartChannelActivation,n=e.wtbButtonBehavior,a=e.wtbButtonMode;return t&&"default"===n&&"cc"===a},c=function(e){return"bno"===e?"OnlineShop":"LocalStore"},u=function(e,t,n,a){var r=t.token,i=t.country,l=t.language,u=t.subid,f=[o.h.EAN,o.h.MAN,o.h.PZN].filter((function(e){return!!n[e]}))[0],_="man"===f?"ManufacturerArticleNumber":f[0].toUpperCase()+f.slice(1),d=a.map((function(e){return e.productId})).join(","),p=c(e),h=""+Object(s.b)(t.country)+p+"?F_"+_+"="+d+"&Country="+i+"&Language="+l+"&token="+r+"&O_GroupBy[Field]="+_+"&F_ExcludeOutOfStock=1&F_ExcludeNoAvailabilityInfo=1";u&&(h+="&F_SubId="+u);var m=t[o.h.BNO_MAX_DELIVERY_TIME];return m&&!isNaN(m)&&(h+="&F_DeliveryTime[Value]="+(m+1),h+="&F_DeliveryTime[CompareOperator]="+encodeURIComponent("<")),h},f=function(e){var t={};return e&&e.forEach((function(e){var n=e.ResultGroupHeader.GroupValue,a=Number(e.ResultGroupHeader.ResultAmountTotal);t[n]=(t[n]||0)+a})),t},_=function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).then((function(e){e.getResult&&(n=e.getResult[0].ResultGroups)}));case 2:return e.abrupt("return",f(n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";t.a={COUNTRY_SELECTOR:"country_selector",DISCLAIMER_TEXT:"footer_text",DISCLAIMER_LABEL:"footer_button_label",DISCLAIMER_POPUP_TEXT:"pop_up_text",DISCLAIMER_POPUP_CONFIRM:"confirm_button",DISCLAIMER_POPUP_CANCEL:"cancel_button",LABEL_FILTER:"label_filter",LABEL_ROUTE:"label_route",BADGE_TRUSTED:"badge_trusted",CHANNEL_BNO:"online_channel_name",CHANNEL_BNIS:"offline_channel_name",CTA_WHERE_TO_BUY:"cta_where_to_buy",CTA_BUY_NOW:"cta_buy_now",CTA_VIEW_MORE:"cta_view_more",CTA_SHOW_MORE_RESULTS:"cta_show_more_results",CTA_APPLY_FILTER:"cta_apply_filter",CTA_CLICK_COLLECT:"bnis_button_label",AVAILABILITY_STOCK_IN:"availability_stock_in",AVAILABILITY_STOCK_OUT:"availability_stock_out",AVAILABILITY_UNKNOWN:"availability_unknown",AVAILABILITY_DELIVERY_DAY:"availability_delivery_day",AVAILABILITY_DELIVERY_DAYS:"availability_delivery_days",FILTER_IN_STOCK:"filter_in_stock",FILTER_FAST_DELIVERY:"fast_delivery",FILTER_B2B:"b2b_filter_label",FILTER_B2C:"b2c_filter_label",FILTER_NOW_OPEN:"now_open_filter",FILTER_CLICK_COLLECT:"click_collect",OPENINGHOURS_NOW_OPEN:"openinghours_now_open",OPENINGHOURS_NOW_CLOSED:"openinghours_now_closed",WEEKDAYS_SHORT_MO:"weekdays_short_mo",WEEKDAYS_SHORT_TU:"weekdays_short_tu",WEEKDAYS_SHORT_WE:"weekdays_short_we",WEEKDAYS_SHORT_TH:"weekdays_short_th",WEEKDAYS_SHORT_FR:"weekdays_short_fr",WEEKDAYS_SHORT_SA:"weekdays_short_sa",WEEKDAYS_SHORT_SU:"weekdays_short_su",NOTICE_API_ERROR:"notice_apierror",NOTICE_NORESULTS:"notice_noresults",NOTICE_NORESULTS_BNO:"notice_noresults_bno",NOTICE_NORESULTS_BNIS:"notice_noresults_bnis",NOTICE_GEOLOCATION_PROGRESS:"notice_geolocation_progress",NOTICE_GEOLOCATION_ERROR:"notice_geolocation_error",NOTICE_NO_LOCATION:"notice_nolocation",LOCATIONSEARCH_PLACEHOLDER:"locationsearch_placeholder",PRODUCT_VARIANTS:"product_variants",PRODUCT_TITLE:"product_title",PRODUCT_DESCRIPTION:"product_description",PRODUCT_IMAGE:"product_image",VARIANTS_LABEL:"variant_selection_label",BNIS_FOOTER_BUTTON_LABEL:"bnis_footer_button_label",BNIS_FOOTER_TEXT:"bnis_footer_text",BNIS_DISCLAIMER_POPUP_TEXT:"bnis_pop_up_text",DISCLAIMER_BNIS_POPUP_CONFIRM:"bnis_confirm_button",DISCLAIMER_BNIS_POPUP_CANCEL:"bnis_cancel_button"}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){var t="";switch(e.AvailabilityInfo&&e.AvailabilityInfo[0]&&(t=e.AvailabilityInfo[0].Status),t){case"1":case"2":return!0;case"0":return!1;case"":case"-1":case"3":default:return}}},,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(0),r=n.n(a),i=n(9),o=function(){return r.a.useContext(i.a).isMobile},s=function(){return r.a.useContext(i.a).isMobileLandscape},l=function(){return r.a.useContext(i.a).searchLocation},c=function(){return r.a.useContext(i.a).geoLocation},u=function(){return r.a.useContext(i.a).activeChannel}},function(e,t,n){"use strict";var a=n(0),r=Object(a.createContext)({track:function(){}});t.a=r},function(e,t,n){"use strict";t.a={label:{searchInput:"Postcode or city search",geolocation:"Show results based on my location",resetLocation:"Reset location and clear search input",retailersList:"List of retailers",closeDialog:"Close dialog",dialog:"Where to buy:",bnisFilterBtn:"will open filter dialog"}}},function(e,t,n){"use strict";function a(){var e=window.CCI;return e&&e.__direction&&"rtl"===e.__direction.toLowerCase()}n.d(t,"a",(function(){return a}))},,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var a=["AM","AR","AT","AZ","BA","BE","BG","BO","BR","BY","CA","CH","CL","CM","CO","CR","CY","CZ","DE","DK","EC","EE","ES","FI","FO","FR","GE","GL","HR","HU","ID","IS","IT","KZ","LB","LT","LU","LV","MA","MD","MK","MO","MZ","NL","NO","PE","PL","PT","PY","RO","RS","RU","SE","SI","SK","TN","TR","UA","UY","UZ","VE","VN","ZA"];function r(e){return.62137119224*e}function i(e){return e/.62137119224}function o(e,t,n){var r=5===n.length?n.replace("_","-").split("-")[1]:n,i=-1===a.indexOf(r.toUpperCase())?".":",";return e.toFixed(t).replace(".",i)}},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}));var a=["su","mo","tu","we","th","fr","sa"],r=["mo","tu","we","th","fr","sa","su"];function i(e){var t={};return e&&e.length&&e.forEach((function(e){var n=e.Weekday.substr(0,2).toLowerCase();t[n]||(t[n]=[]),t[n].push(e)})),t}function o(e,t){if(t)return{isOpenNow:!0,hoursOpenNow:"00:00 - 23:59"};var n=new Date,r=a[n.getDay()],i=!1,o=null,s=null;return e[r]&&e[r].length&&(o=e[r].map((function(e){var t=e.Opentime.split(":").map((function(e){return parseInt(e)})),a=e.Closetime.split(":").map((function(e){return parseInt(e)})),r=new Date,o=new Date;return r.setHours.apply(r,t),o.setHours.apply(o,a),i||(i=!!(n.getTime()>=r.getTime()&&n.getTime()<=o.getTime()))&&(s=e.Opentime+" - "+e.Closetime),e.Opentime+" - "+e.Closetime})).join(" ")),{isOpenNow:i,hoursOpenToday:o,hoursOpenNow:s}}function s(e){var t=new Date,n=a[t.getDay()],r=i(e)[n];if(!r||!r.length)return!1;var o=!1;return r.map((function(e){var n=e.Opentime.split(":").map((function(e){return parseInt(e)})),a=e.Closetime.split(":").map((function(e){return parseInt(e)})),r=new Date,i=new Date;return r.setHours.apply(r,n),i.setHours.apply(i,a),o||(o=!!(t.getTime()>=r.getTime()&&t.getTime()<=i.getTime())),e})),o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(11),r=n.n(a),i=n(19),o=n(0),s=n.n(o),l=n(1),c=n(9),u=n(28),f=n(4),_=n(23),d=n(30);function p(e){var t=[];return e&&e.getResult&&e.getResult[0]&&e.getResult[0].ResultGroups[0].OnlineShops&&e.getResult[0].ResultGroups[0].OnlineShops.length&&e.getResult[0].ResultGroups[0].OnlineShops.forEach((function(e){if(e&&e.OfferInfo&&e.OfferInfo.Offers){var n=e.OfferInfo.Offers.find((function(e){var t=parseInt(e.AvailabilityInfo[0].DeliveryTime);return-1===t||t>=1}));if(n){var a=t.length;t[a]={id:"OnlineShop-"+e.Id+"-"+a,index:a,OnlineShop:e,Offer:n}}}})),t}var h=function(e){return e.split(",").length>1},m=function(e,t){return e?t:t+"[Value]"},y=n(45),g=function(){function e(e){this.options=e,this.endpoint=null,this.payload={},this.url=null}var t=e.prototype;return t.beginRequest=function(e){this.endpoint=e,this.addDefaultPayload(),this.addReqDefaultPayload(),this.removeNullsAndUndefined()},t.addPayload=function(e,t){this.payload[e]=t},t.removeNullsAndUndefined=function(){var e=this;Object.keys(this.payload).forEach((function(t){return void 0===e.payload[t]?delete e.payload[t]:{}}))},t.getApiBaseUrl=function(){return-1!==f.c.indexOf(this.options.country.toUpperCase())?f.a.EU:f.a.INT},t.composeApiUrl=function(){var e=this,t=this.getApiBaseUrl(this.options.country);"LocalStoreAmount"===this.endpoint&&(this.endpoint="LocalStore");var n=[];return Object.keys(this.payload).map((function(t){return n.push(t+"="+e.payload[t]),t})),""+t+this.endpoint+"?"+n.join("&")},t.addProductIndentifier=function(){var e=this.options,t=e.ean,n=e.man,a=e.pzn;if(t)this.addPayload(f.b.EAN,t);else if(n){var r=h(n),i=m(r,f.b.MAN);this.addPayload(i,encodeURIComponent(n)),r||this.addPayload(f.b.MAN_OPERATOR,encodeURIComponent("="))}else if(a){var o=h(a),s=m(o,f.b.PZN);this.addPayload(s,encodeURIComponent(a)),o||this.addPayload(f.b.PZN_OPERATOR,encodeURIComponent("="))}},t.addUtmParams=function(){var e=this,t=this.options.utmParams;t&&(Object.keys(t).length&&Object.keys(t).forEach((function(n){t[n]&&e.addPayload(n,t[n])})))},t.addMaxDeliveryTime=function(){var e;(e=this.options[l.h.BNO_MAX_DELIVERY_TIME])&&!isNaN(e)&&(this.addPayload(f.b.DELIVERY_VAL,this.options[l.h.BNO_MAX_DELIVERY_TIME]+1),this.addPayload(f.b.DELIVERY_OPERATOR,encodeURIComponent("<")))},t.addSearchRadius=function(){var e=parseFloat(this.options[l.h.BNIS_SEARCH_RADIUS]);if(this.options.location&&e>0){var t=this.options[l.h.BNIS_DISTANCE_UNIT]===l.j.MILES?Object(y.c)(e):e;this.addPayload(f.b.DISTANCE_VAL,t),this.addPayload(f.b.DISTANCE_OPERATOR,encodeURIComponent("<"))}},t.addBNISStockRule=function(){var e=this.options[l.h.BNIS_RESULT_CRITERION];if(e&&1===e.length)switch(e[0]){case"in_stock":this.addPayload(f.b.AVAILABILITY_VAL,1)}},t.addLocalResultFields=function(){var e=this.options.resultFields;return this.options.showWhatsApp&&(e=e.concat(",","CustomContactViaWhatsapp")),e},t.addDefaultPayload=function(){this.addProductIndentifier(),this.addPayload(f.b.TOKEN,this.options.token),this.addPayload(f.b.COUNTRY,this.options.country),this.addPayload(f.b.LANG,this.options.language),this.addPayload(f.b.DEVICE,this.options.deviceType),this.addPayload(f.b.TRACKING_ID,this.options.trackingid),this.addUtmParams()},t.addReqDefaultPayload=function(){switch(this.endpoint){case"Article":this.addPayload(f.b.SINGLE_PRODUCT,1);break;case"OnlineShop":this.addPayload(f.b.LIMIT,this.options[l.h.BNO_MAX_RESULTS]),this.addPayload(f.b.SUBID,this.options.subid),this.addPayload(f.b.RELATIONS,this.options.resultFields),this.addPayload(f.b.TYPE,"swn"),this.addPayload(f.b.KEEP_ORDER,"1"),this.addMaxDeliveryTime();break;case"LocalStore":this.addPayload(f.b.SUBID,this.options.subid),this.addPayload(f.b.TYPE,"swn"),this.addPayload(f.b.RELATIONS,this.addLocalResultFields()),this.addPayload(f.b.LOCATION.LNG,this.options.location.lng),this.addPayload(f.b.LOCATION.LAT,this.options.location.lat),this.addPayload(f.b.LOCATION.ZIP,this.options.zip),this.addPayload(f.b.LOCATION.CITY,this.options.city),this.addPayload(f.b.LOCATION.COUNTRY,this.options.country),this.addPayload(f.b.OFFSET,this.options[f.b.OFFSET]),this.addPayload(f.b.LIMIT,this.options[f.b.LIMIT]?this.options[f.b.LIMIT]:this.options[l.h.BNIS_MAX_RESULTS]),this.addSearchRadius(),this.addBNISStockRule();break;case"LocalStoreAmount":this.addPayload(f.b.SUBID,this.options.subid)}},t.send=function(){if(this.promise)return this.promise;var e=this.composeApiUrl();return this.endpoint=null,this.payload={},this.promise=Object(_.a)(e,9e4),this.promise},e}(),b=n(46),T=n(35),v=n(31);function O(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function E(e){var t=e.articles,n=e.selectedVariant,a=e.children,f=Object(o.useContext)(c.a),_=f.appConf,h=f.productConf,m=f.searchLocation,y=f.activeFilters,C=_.country,E=_.language,I=Object(o.useState)(h),S=I[0],N=I[1],A=Object(o.useState)(n),R=A[0],L=A[1],w=Object(o.useState)(null),k=w[0],M=w[1],P=Object(o.useState)(!1),B=P[0],x=P[1],D=Object(o.useState)(!1),U=D[0],j=D[1],H=Object(o.useState)(null),G=H[0],z=H[1],K=Object(o.useState)(null),F=K[0],W=K[1],Z=Object(o.useState)(null),V=Z[0],Y=Z[1],J=Object(o.useState)(null),q=J[0],X=J[1],Q=Object(o.useState)(!1),$=Q[0],ee=Q[1],te=Object(o.useState)(!1),ne=te[0],ae=te[1],re=Object(o.useState)(!1),ie=re[0],oe=re[1],se=Object(o.useState)(null),le=se[0],ce=se[1],ue=Object(o.useState)(t||null),fe=ue[0],_e=ue[1],de=Object(o.useState)(!1),pe=de[0],he=de[1],me=Object(o.useState)(!1),ye=me[0],ge=me[1],be=Object(o.useState)(null),Te=be[0],ve=be[1],Oe=Object(o.useCallback)((function(){M(null),x(!1),j(!1),W(null),ae(!1),oe(!1),_e(null),he(!1),ge(!1)}),[]);Object(o.useEffect)((function(){!Te&&_&&ve(function(e){var t=Object(d.a)(window.location.href),n=e.utm_source,a=e.utm_medium,r=e.utm_campaign,i=e.utm_term,o=e.utm_content,s=e.generic_tracking,l=e.widgetid,c=e._sessionId,u={T_UTM_Source:n||t.utm_source,T_UTM_Medium:a||t.utm_medium,T_UTM_Campaign:r||t.utm_campaign,T_UTM_Term:i||t.utm_term,T_UTM_Content:o||t.utm_content,T_GenericTracking:s?encodeURIComponent(JSON.stringify(s)):t.g_tracking,widgetId:l,viewId:c.current},f={};return Object.keys(u).forEach((function(e){u.hasOwnProperty(e)&&u[e]&&(f[e]=u[e])})),f}(_))}),[Te,_,h,ve]),Object(o.useEffect)((function(){Oe()}),[C,Oe,E]),Object(o.useEffect)((function(){h&&(S&&h.ean===S.ean&&h.man===S.man&&h.pzn===S.pzn||(Oe(),N(h),L(null)))}),[h,S,Oe]),Object(o.useEffect)((function(){n&&L(n)}),[n]),Object(o.useEffect)((function(){M(null),x(!1),j(!1),W(null),ae(!1),oe(!1)}),[R]),Object(o.useEffect)((function(){if(k)if(y&&k.length>0){var e=k.concat();y.forEach((function(t){switch(t){case l.p.B2C:e=e.filter((function(e){return e.OnlineShop&&e.OnlineShop.CustomerRestriction&&"1"===e.OnlineShop.CustomerRestriction.PrivateCustomers}));break;case l.p.B2B:e=e.filter((function(e){return e.OnlineShop&&e.OnlineShop.CustomerRestriction&&"1"===e.OnlineShop.CustomerRestriction.CommercialCustomers}));break;case l.p.FAST_DELIVERY:e=e.filter((function(e){return e.Offer&&e.Offer.AvailabilityInfo&&parseInt(e.Offer.AvailabilityInfo[0].DeliveryTime)>0&&parseInt(e.Offer.AvailabilityInfo[0].DeliveryTime)<3}))}})),z(e)}else z(null);else z(null)}),[k,y,V]),Object(o.useEffect)((function(){if(F)if(y&&F.length>0){var e=F.concat();y.forEach((function(t){switch(t){case l.p.B2C:e=e.filter((function(e){return e.LocalStore&&e.LocalStore.CustomerRestriction&&"1"===e.LocalStore.CustomerRestriction.PrivateCustomers}));break;case l.p.B2B:e=e.filter((function(e){return e.LocalStore&&e.LocalStore.CustomerRestriction&&"1"===e.LocalStore.CustomerRestriction.CommercialCustomers}));break;case l.p.IN_STOCK:e=e.filter((function(e){return e.Offer&&!0===Object(T.a)(e.Offer)}));break;case l.p.CLICK_COLLECT:e=e.filter((function(e){return e.LocalStore&&e.LocalStore.OfferInfo&&e.LocalStore.OfferInfo.ClickAndCollectLink}));break;case l.p.NOW_OPEN:e=e.filter((function(e){return Object(b.a)(e.LocalStore.OpeningHours)}))}})),ce(e)}else ce(null);else ce(null)}),[F,y]),Object(o.useEffect)((function(){W(null),ae(!1),oe(!1)}),[m]);var Ce=Object(o.useCallback)((function(e,t){var n=l.o[e];if(n){t=Object.assign({},_,h,n,t),R&&(t.ean=R.ean,t.man=R.man,t.pzn=R.pzn);var a=new g(t);return a.beginRequest(e),a}}),[_,h,R]),Ee=Object(o.useCallback)((function(){return Ce("OnlineShop",{resultFields:"Id,OfferInfo"}).send().then((function(e){return function(e,t){var n=!0;if(e&&e.getResult&&e.getResult[0]&&e.getResult[0].ResultGroups[0].OnlineShops)for(var a=e.getResult[0].ResultGroups[0].OnlineShops,r=0;r<a.length&&n;r++){var i=a[r];if(i&&i.OfferInfo&&i.OfferInfo.Offers){var o=i.OfferInfo.Offers;if(!n)break;for(var s=0;s<o.length;s++){var l=o[s],c=parseInt(l.AvailabilityInfo[0].DeliveryTime);(-1===c||c>=1)&&t&&(n=!1)}}}return!(!(e&&e.getResult&&e.getResult[0]&&e.getResult[0].ResultGroups[0].OnlineShops&&e.getResult[0].ResultGroups[0].OnlineShops.length)||n)}(e,_[l.h.BNO_MAX_DELIVERY_TIME])})).catch((function(e){j(e),x(!1),console.warn(e)}))}),[Ce,_]),Ie=Object(o.useCallback)((function(e){if(!B)return x(!0),j(!1),M(null),Ce("OnlineShop",e).send().then((function(e){var t=p(e);return M(t),x(!1),t})).catch((function(e){j(e),x(!1),console.warn(e)}))}),[B,Ce]),Se=Object(o.useCallback)((function(e,t,n){if(!ne){t?(oe(!1),ee(!0)):(ae(!0),oe(!1),W(null));var a=_[l.h.BNIS_RESULT_CRITERION];return Ce("LocalStore",e).send().then((function(e){var r=JSON.parse(function(e){if(e&&e.getResult&&e.getResult[0]&&e.getResult[0].ResultGroups[0].ResultGroupHeader)return e.getResult[0].ResultGroups[0].ResultGroupHeader.ResultAmountTotal}(e)),i=function(e){var t=[];e&&e.getResult&&e.getResult[0]&&e.getResult[0].ResultGroups[0].LocalStores&&e.getResult[0].ResultGroups[0].LocalStores.length&&e.getResult[0].ResultGroups[0].LocalStores.forEach((function(e){var n=null;e.GeoInfo&&e.GeoInfo[0]&&(n={lat:parseFloat(e.GeoInfo[0].Lat),lng:parseFloat(e.GeoInfo[0].Lng)}),e.OfferInfo&&e.OfferInfo.Offers&&e.OfferInfo.Offers.length&&e.OfferInfo.Offers.forEach((function(a){var r=t.length;t[r]={id:"LocalStore-"+e.Id+"-"+r,index:r,location:n,marker:null,LocalStore:e,Offer:a}}))}));var n={};return t.filter((function(e){var t=e.LocalStore.Id;return!n[t]&&(n[t]=!0,!0)}))}(e).filter((function(e){var t=e.Offer;if(!a||!a.length)return!0;switch(Object(T.a)(t)){case!0:return-1!==a.indexOf("in_stock");case!1:return-1!==a.indexOf("out_of_stock");default:return-1!==a.indexOf("stock_unknown")}}));return t?(X(r),W(n.concat(i)),Y(n.concat(i)),ae(!1),ee(!1),i):(X(r),W(i),Y(i),ae(!1),i)})).catch((function(e){oe(e),ae(!1),W([]),console.warn(e)}))}}),[ne,Ce,_]),Ne=Object(o.useCallback)((function(e){return Ce("LocalStoreAmount",{}).send().then((function(e){if(e&&e.getResult&&e.getResult[0]&&e.getResult[0].ResultGroups&&e.getResult[0].ResultGroups[0]){var t=e.getResult[0].ResultGroups[0].LocalStores;return t?parseInt(t):null}})).catch((function(e){oe(e),ae(!1),W([]),console.log(e)}))}),[Ce]),Ae=Object(o.useCallback)(function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a,i,o,s,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},i=_.buyNowChannels,o=r.a.mark((function e(){var i,o,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.value,o=Object(v.c)(i,_,h,t),e.next=4,Object(v.b)(o);case 4:s=e.sent,Object.keys(s).forEach((function(e){var t=s[e];a[e]=Math.max(a[e]||0,t)})),Object.keys(s).some((function(e){return s[e]>0}))||(c=Object(v.a)(i),n((function(e){var t;return Object.assign({},e,((t={})[c]=!1,t))})));case 8:case"end":return e.stop()}}),e)})),s=O(i);case 4:if((l=s()).done){e.next=8;break}return e.delegateYield(o(),"t0",6);case 6:e.next=4;break;case 8:return e.abrupt("return",t.filter((function(e){var t=String(e.productId);return a[t]>0})));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[_,h]),Re=Object(o.useCallback)((function(e){return he(!0),ge(!1),_e(null),Ce("Article",e).send().then((function(e){return _e(e),he(!1),e})).catch((function(e){ge(e),he(!1),console.warn(e)}))}),[Ce]);return s.a.createElement(u.a.Provider,{value:{isPendingArticle:pe,isErrorArticle:ye,resultsArticle:fe,loadResultsArticle:Re,isPendingBNO:B,isErrorBNO:U,resultsBNO:k,filteredResultsBNO:G,checkResultsBNO:Ee,loadResultsBNO:Ie,isPendingBNIS:ne,isErrorBNIS:ie,resultsBNIS:F,filteredResultsBNIS:le,loadResultsBNIS:Se,checkResultsAmountBNIS:Ne,oldResultsBNIS:V,isPendingNewResultBNIS:$,maxResultsBNIS:q,productVariant:R,setProductVariant:L,utmParams:Te,getFilteredButtons:Ae}},a)}},,,,,,,function(e,t,n){e.exports=n(71)},,,,,,,,,,function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(34),o=n.n(i),s=n(9),l=(n(2),n(26));var c,u=(void 0===(c="https://fi-v2.global.commerce-connector.com/")&&(c="/"),"/"===c.substr(-1,1)?c:c+"/");function f(){return u}function _(e){var t="default"===e||/\.json$/.test(e),n=e.split("_")[0],a=t?f()+"translations/default.json":"https://fi-v2-configs.global.commerce-connector.com/translations/"+n+".json?v="+(new Date).getTime();return fetch(a).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()}))}function d(e,t){var n=Object.assign({},e);return Object.keys(t).forEach((function(e){var a=t[e];"string"==typeof a&&""!==a&&(n[e]=a)})),n}var p={country_selector:"Choose your country",label_filter:"Filter",label_route:"Route",online_channel_name:"Online",offline_channel_name:"Offline",cta_where_to_buy:"Where To Buy",cta_buy_now:"Buy now",cta_view_more:"View more",cta_show_more_results:"Show more",cta_apply_filter:"Apply Changes",bnis_button_label:"Click & Collect",availability_stock_in:"In Stock",availability_stock_out:"Out of stock",availability_unknown:"Call for availability",availability_delivery_day:"Day",availability_delivery_days:"Days",filter_in_stock:"In Stock",fast_delivery:"Fast delivery",footer_text:"",b2b_filter_label:"I'm a business",b2c_filter_label:"I'm a consumer",now_open_filter:"Now open",click_collect:"Click & Collect",openinghours_now_open:"Now open.",openinghours_now_closed:"Closed.",weekdays_short_mo:"Mon",weekdays_short_tu:"Tue",weekdays_short_we:"Wed",weekdays_short_th:"Thu",weekdays_short_fr:"Fri",weekdays_short_sa:"Sat",weekdays_short_su:"Sun",notice_apierror:"The service is currently not available. Please try again later.",notice_noresults:"",notice_noresults_bno:"",notice_noresults_bnis:"",notice_geolocation_progress:"Getting location ...",notice_geolocation_error:"Please enable location in your browser or device.",notice_nolocation:"Location unknown. Please enter a location or enable location in your browser or device.",locationsearch_placeholder:"ZIP, City",variant_selection_label:"Please select your model"},h={de:{AT_de:"Österreich",AU_en:"Australien",BE_fr:"Belgien",BE_nl:"Belgien",CA_en:"Kanada",CC_cc:"Commerce Connector Test Country / Cocos (Keeling) Islands",CH_de:"Schweiz",CH_fr:"Schweiz",CH_it:"Schweiz",CZ_cs:"Tschechische Republik",DE_de:"Deutschland",DK_da:"Dänemark",ES_es:"Spanien",FI_fi:"Finnland",FR_fr:"Frankreich",FC_fr:"France COM",FD_fr:"France DOM",MC_fr:"Monaco",NC_fr:"Neu-Kaledonien",GB_en:"Großbritannien",GR_el:"Griechenland",HK_zh:"Hongkong",HK_zn:"Hongkong",HU_hu:"Ungarn",IE_en:"Irland",IT_it:"Italien",LU_fr:"Luxemburg",LU_lb:"Luxemburg",NL_nl:"Niederlande",NO_no:"Norwegen",NZ_en:"Neuseeland",PL_pl:"Polen",PT_pt:"Portugal",SE_sv:"Schweden",SK_sk:"Slowakei",RU_ru:"Russland",UA_uk:"Ukraine",LU_de:"Luxemburg",LT_lt:"Litauen",LV_lv:"Lettland",EE_et:"Estland",TR_tr:"Türkei",RO_ro:"Rumänien",US_en:"USA",IS_is:"Island",JP_ja:"Japan",RS_rs:"Serbien",MD_ro:"Moldavien",MD_ru:"Moldavien",CA_fr:"Canada",BR_pt:"Brasilien",CN_zh:"China",CL_es:"Chile",IN_hi:"Indien",IN_en:"Indien",SA_ar:"Saudi Arabien",SA_en:"Saudi Arabien (en)",AE_ar:"Vereinigte Arabische Emirate",AE_en:"Vereinigte Arabische Emirate",DZ_ar:"Algerien",AO_pt:"Angola",AR_es:"Argentinien",BY_ru:"Weißrussland",BO_es:"Bolivien",BG_bg:"Bulgarien",CO_es:"Kolumbien",HR_hr:"Ungarn",EC_es:"Ecuador",EG_ar:"Ägypten",GH_en:"Ghana",HK_en:"Hongkong",ID_id:"Indonesien",JO_ar:"Jordanien",KZ_kk:"Kasachstan",KE_en:"Kenia",KW_ar:"Kuwait",LB_ar:"Libanon",MY_ms:"Malaysia",MX_es:"Mexiko",MA_ar:"Marokko",MA_fr:"Marokko",MZ_pt:"Mozambique",NG_en:"Niger",OM_ar:"Oman",PA_es:"Panama",PY_es:"Paraguay",PE_es:"Peru",PH_en:"Philippinen",QA_ar:"Katar",SG_en:"Singapur",SI_sl:"Slovenien",ZA_en:"Südafrika",TW_zn:"Taiwan",TZ_en:"Tansania",TH_th:"Thailand",TN_ar:"Tunesien",UY_es:"Uruguay",VE_es:"Venezuela",VN_vi:"Vietnam",CN_en:"China",AZ_az:"Aserbaidschan",CR_es:"Costa Rica",DO_es:"Dominikanische Republik",LK_ta:"Sri Lanka",TT_en:"Trinidad und Tobago",PR_en:"Puerto Rico",PR_es:"Puerto Rico",PK_en:"Pakistan",NI_es:"Nicaragua",KR_ko:"Südkorea",JM_en:"Jamaika",IL_iw:"Israel",IL_ar:"Israel",HN_es:"Honduras",GT_es:"Guatemala",GU_en:"Guam",SV_es:"El Salvador",FI_hu:"Finnland",BH_ar:"Bahrain",IR_ir:"Iran",MN_mn:"Mongolei",TH_en:"Thailand",DM_es:"Dominica",TW_zh:"Taiwan",LI_de:"Liechtenstein",ID_en:"Indonesien",LK_en:"Sri Lanka",MY_en:"Malaysia",VN_en:"Vietnam",UA_ru:"Ukraine"},en_us:{AT_de:"Austria",AU_en:"Australia",BE_fr:"Belgium",BE_nl:"Belgium",CA_en:"Canada",CC_cc:"Commerce Connector Test Country / Cocos (Keeling) Islands",CH_de:"Switzerland",CH_fr:"Switzerland",CH_it:"Switzerland",CZ_cs:"Czech Republic",DE_de:"Germany",DK_da:"Denmark",ES_es:"Spain",FI_fi:"Finland",FR_fr:"France",FC_fr:"France COM",FD_fr:"France DOM",MC_fr:"Monaco",NC_fr:"New Caledonia",GB_en:"United Kingdom",GR_el:"Greece",HK_zh:"Hongkong",HK_zn:"Hongkong",HU_hu:"Hungary",IE_en:"Ireland",IT_it:"Italy",LU_fr:"Luxembourg",LU_lb:"Luxembourg",NL_nl:"Netherlands",NO_no:"Norway",NZ_en:"New Zealand",PL_pl:"Poland",PT_pt:"Portugal",SE_sv:"Sweden",SK_sk:"Slovakia",RU_ru:"Russia",UA_uk:"Ukraine",LU_de:"Luxembourg",LT_lt:"Lithuania",LV_lv:"Latvia",EE_et:"Estonia",TR_tr:"Turkey",RO_ro:"Romania",US_en:"United States",IS_is:"Iceland",JP_ja:"Japan",RS_rs:"Serbia",MD_ro:"Moldova",MD_ru:"Moldova",CA_fr:"Canada",BR_pt:"Brazil",CN_zh:"China",CL_es:"Chile",IN_hi:"India",IN_en:"India",SA_ar:"Saudi Arabia",SA_en:"Saudi Arabia (en)",AE_ar:"United Arab Emirates",AE_en:"United Arab Emirates",DZ_ar:"Algeria",AO_pt:"Angola",AR_es:"Argentina",BY_ru:"Belarus",BO_es:"Bolivia",BG_bg:"Bulgaria",CO_es:"Colombia",HR_hr:"Hungary",EC_es:"Ecuador",EG_ar:"Egypt",GH_en:"Ghana",HK_en:"Hongkong",ID_id:"Indonesia",JO_ar:"Jordan",KZ_kk:"Kazakhstan",KE_en:"Kenya",KW_ar:"Kuwait",LB_ar:"Lebanon",MY_ms:"Malaysia",MX_es:"Mexican",MA_ar:"Morocco",MA_fr:"Morocco",MZ_pt:"Mozambique",NG_en:"Nigeria",OM_ar:"Oman",PA_es:"Panama",PY_es:"Paraguay",PE_es:"Peru",PH_en:"Philippines",QA_ar:"Quatar",SG_en:"Singapore",SI_sl:"Slovenia",ZA_en:"South Africa",TW_zn:"Taiwan",TZ_en:"Tanzania",TH_th:"Thailand",TN_ar:"Tunisia",UY_es:"Uruguay",VE_es:"Venezuela",VN_vi:"Vietnam",CN_en:"China",AZ_az:"Azerbaijan",CR_es:"Costa Rica",DO_es:"Dominican Republic",LK_ta:"Tamil\tSri",TT_en:"Trinidad and Tobago",PR_en:"Puerto Rico",PR_es:"Puerto Rico",PK_en:"Pakistan",NI_es:"Nicaragua",KR_ko:"Korea",JM_en:"Jamaica",IL_iw:"Israel",IL_ar:"Israel",HN_es:"Honduras",GT_es:"Guatemala",GU_en:"Guam",SV_es:"El Salvador",FI_hu:"Finland",BH_ar:"Bahrain",IR_ir:"Iran",MN_mn:"Mongoli",TH_en:"Thailand",DM_es:"Dominica",TW_zh:"Taiwan",LI_de:"Liechtenstein",ID_en:"Indonesia",LK_en:"Sri Lanka",MY_en:"Malaysi",VN_en:"Vietnam",UA_ru:"Ukraine"},en_gb:{AT_de:"Austria",AU_en:"Australia",BE_fr:"Belgium",BE_nl:"Belgium",CA_en:"Canada",CC_cc:"Commerce Connector Test Country / Cocos (Keeling) Islands",CH_de:"Switzerland",CH_fr:"Switzerland",CH_it:"Switzerland",CZ_cs:"Czech Republic",DE_de:"Germany",DK_da:"Denmark",ES_es:"Spain",FI_fi:"Finland",FR_fr:"France",FC_fr:"France COM",FD_fr:"France DOM",MC_fr:"Monaco",NC_fr:"New Caledonia",GB_en:"United Kingdom",GR_el:"Greece",HK_zh:"Hongkong",HK_zn:"Hongkong",HU_hu:"Hungary",IE_en:"Ireland",IT_it:"Italy",LU_fr:"Luxembourg",LU_lb:"Luxembourg",NL_nl:"Netherlands",NO_no:"Norway",NZ_en:"New Zealand",PL_pl:"Poland",PT_pt:"Portugal",SE_sv:"Sweden",SK_sk:"Slovakia",RU_ru:"Russia",UA_uk:"Ukraine",LU_de:"Luxembourg",LT_lt:"Lithuania",LV_lv:"Latvia",EE_et:"Estonia",TR_tr:"Turkey",RO_ro:"Romania",US_en:"United States",IS_is:"Iceland",JP_ja:"Japan",RS_rs:"Serbia",MD_ro:"Moldova",MD_ru:"Moldova",CA_fr:"Canada",BR_pt:"Brazil",CN_zh:"China",CL_es:"Chile",IN_hi:"India",IN_en:"India",SA_ar:"Saudi Arabia",SA_en:"Saudi Arabia (en)",AE_ar:"United Arab Emirates",AE_en:"United Arab Emirates",DZ_ar:"Algeria",AO_pt:"Angola",AR_es:"Argentina",BY_ru:"Belarus",BO_es:"Bolivia",BG_bg:"Bulgaria",CO_es:"Colombia",HR_hr:"Hungary",EC_es:"Ecuador",EG_ar:"Egypt",GH_en:"Ghana",HK_en:"Hongkong",ID_id:"Indonesia",JO_ar:"Jordan",KZ_kk:"Kazakhstan",KE_en:"Kenya",KW_ar:"Kuwait",LB_ar:"Lebanon",MY_ms:"Malaysia",MX_es:"Mexican",MA_ar:"Morocco",MA_fr:"Morocco",MZ_pt:"Mozambique",NG_en:"Nigeria",OM_ar:"Oman",PA_es:"Panama",PY_es:"Paraguay",PE_es:"Peru",PH_en:"Philippines",QA_ar:"Quatar",SG_en:"Singapore",SI_sl:"Slovenia",ZA_en:"South Africa",TW_zn:"Taiwan",TZ_en:"Tanzania",TH_th:"Thailand",TN_ar:"Tunisia",UY_es:"Uruguay",VE_es:"Venezuela",VN_vi:"Vietnam",CN_en:"China",AZ_az:"Azerbaijan",CR_es:"Costa Rica",DO_es:"Dominican Republic",LK_ta:"Tamil\tSri",TT_en:"Trinidad and Tobago",PR_en:"Puerto Rico",PR_es:"Puerto Rico",PK_en:"Pakistan",NI_es:"Nicaragua",KR_ko:"Korea",JM_en:"Jamaica",IL_iw:"Israel",IL_ar:"Israel",HN_es:"Honduras",GT_es:"Guatemala",GU_en:"Guam",SV_es:"El Salvador",FI_hu:"Finland",BH_ar:"Bahrain",IR_ir:"Iran",MN_mn:"Mongoli",TH_en:"Thailand",DM_es:"Dominica",TW_zh:"Taiwan",LI_de:"Liechtenstein",ID_en:"Indonesia",LK_en:"Sri Lanka",MY_en:"Malaysi",VN_en:"Vietnam",UA_ru:"Ukraine"},fr:{AT_de:"Autriche",AU_en:"Australie",BE_fr:"Belgique",BE_nl:"Belgique",CA_en:"Canada",CC_cc:"Commerce Connector Test Country / Cocos (Keeling) Islands",CH_de:"Suisse",CH_fr:"Suisse",CH_it:"Suisse",CZ_cs:"République tchèque",DE_de:"Allemagne",DK_da:"Danemark",ES_es:'L"Espagne',FI_fi:"Finlande",FR_fr:"France",FC_fr:"France COM",FD_fr:"France DOM",MC_fr:"Monaco",NC_fr:"Nouvelle Calédonie",GB_en:"Grande-Bretagne",GR_el:"Grèce",HK_zh:"Hong Kong",HK_zn:"Hong Kong",HU_hu:"Hongrie",IE_en:"Irlande",IT_it:"Italie",LU_fr:"Luxembourg",LU_lb:"Luxembourg",NL_nl:"Pays-Bas",NO_no:"Norvège",NZ_en:"Nouvelle-Zélande",PL_pl:"Pologne",PT_pt:"Portugal",SE_sv:"Suède",SK_sk:"Slovaquie",RU_ru:"Russie",UA_uk:"Ukraine",LU_de:"Luxembourg",LT_lt:"Lituanie",LV_lv:"Lettonie",EE_et:"Estonie",TR_tr:"Turquie",RO_ro:"Roumanie",US_en:"Etats-Unis",IS_is:"Islande",JP_ja:"Japon",RS_rs:"Serbie",MD_ro:"Moldova",MD_ru:"Moldova",CA_fr:"Canada",BR_pt:"Brésil",CN_zh:"Chine",CL_es:"Chili",IN_hi:"Inde",IN_en:"Inde",SA_ar:"Arabie saoudite",SA_en:"Saudi Arabien (en)",AE_ar:"Emirats Arabes Unis",AE_en:"Emirats Arabes Unis",DZ_ar:"Algérie",AO_pt:"Angola",AR_es:"Argentine",BY_ru:"Biélorussie",BO_es:"Bolivie",BG_bg:"Bulgarie",CO_es:"Colombie",HR_hr:"Hongrie",EC_es:"Équateur",EG_ar:"Egypte",GH_en:"Ghana",HK_en:"Hong Kong",ID_id:"Indonésie",JO_ar:"Jordanie",KZ_kk:"Kazakhstan",KE_en:"Kenya",KW_ar:"Koweit",LB_ar:"Liban",MY_ms:"Malaisie",MX_es:"Mexique",MA_ar:"Maroc",MA_fr:"Maroc",MZ_pt:"Mozambique",NG_en:"Niger",OM_ar:"Oman",PA_es:"Panama",PY_es:"Paraguay",PE_es:"Pérou",PH_en:"Philippines",QA_ar:"Qatar",SG_en:"Singapour",SI_sl:"Slovénie",ZA_en:"Afrique du sud",TW_zn:"Taïwan",TZ_en:"Tanzanie",TH_th:"Thaïlande",TN_ar:"Tunisie",UY_es:"Uruguay",VE_es:"Venezuela",VN_vi:"Venezuela",CN_en:"Chine",AZ_az:"Azerbaïdjan",CR_es:"Costa Rica",DO_es:"République dominicaine",LK_ta:"Sri lanka",TT_en:"Trinidad et Tobago",PR_en:"Porto Rico",PR_es:"Porto Rico",PK_en:"Pakistan",NI_es:"Nicaragua",KR_ko:"Corée",JM_en:"Jamaïque",IL_iw:"Israël",IL_ar:"Israël",HN_es:"Honduras",GT_es:"Guatemala",GU_en:"Guam",SV_es:"El Salvador",FI_hu:"Finlande",BH_ar:"Bahrein",IR_ir:"Iran",MN_mn:"Mongolie",TH_en:"Thaïlande",DM_es:"Dominique",TW_zh:"Taïwan",LI_de:"Liechtenstein",ID_en:"Indonésie",LK_en:"Sri lanka",MY_en:"Malaisie",VN_en:"Vietnam",UA_ru:"Ukraine"},es:{AT_de:"Austria",AU_en:"Australia",BE_fr:"Bélgica",BE_nl:"Bélgica",CA_en:"Canadá",CC_cc:"Commerce Connector Test Country / Cocos (Keeling) Islands",CH_de:"Suiza",CH_fr:"Suiza",CH_it:"Suiza",CZ_cs:"Republica checa",DE_de:"Alemania",DK_da:"Dinamarca",ES_es:"España",FI_fi:"Finlandia",FR_fr:"Francia",FC_fr:"France COM",FD_fr:"France DOM",MC_fr:"Mónaco",NC_fr:"Nueva Caledonia",GB_en:"Gran Bretaña",GR_el:"Grecia",HK_zh:"Hong Kong",HK_zn:"Hong Kong",HU_hu:"Hungaria",IE_en:"Irlanda",IT_it:"Italia",LU_fr:"Luxemburgo",LU_lb:"Luxemburgo",NL_nl:"Países Bajos",NO_no:"Noruega",NZ_en:"Nueva Zelanda",PL_pl:"Polonia",PT_pt:"Portugal",SE_sv:"Suecia",SK_sk:"Eslovaquia",RU_ru:"Rusia",UA_uk:"Ucrania",LU_de:"Luxemburgo",LT_lt:"Lituania",LV_lv:"Letonia",EE_et:"Estonia",TR_tr:"Turquía",RO_ro:"Romania",US_en:"Estados Unidos",IS_is:"Islandia",JP_ja:"Japón",RS_rs:"Serbia",MD_ro:"Moldavia",MD_ru:"Moldavia",CA_fr:"Canadá",BR_pt:"Brasil",CN_zh:"China",CL_es:"Chile",IN_hi:"India",IN_en:"India",SA_ar:"Arabia Saudita",SA_en:"Saudi Arabien (en)",AE_ar:"United Arab Emirates",AE_en:"United Arab Emirates",DZ_ar:"Argelia",AO_pt:"Angola",AR_es:"Argentina",BY_ru:"Bielorrusia",BO_es:"Bolivia",BG_bg:"Bulgaria",CO_es:"Colombia",HR_hr:"Hungaria",EC_es:"Ecuador",EG_ar:"Egipto",GH_en:"Ghana",HK_en:"Hong Kong",ID_id:"Indonesia",JO_ar:"Jordán",KZ_kk:"Kazajstán",KE_en:"Kenia",KW_ar:"Kuwait",LB_ar:"Líbano",MY_ms:"Malasia",MX_es:"Mexico",MA_ar:"Marruecos",MA_fr:"Marruecos",MZ_pt:"Mozambique",NG_en:"Nigeria",OM_ar:"Oman",PA_es:"Panama",PY_es:"Paraguay",PE_es:"Peru",PH_en:"Filipinas",QA_ar:"Katar",SG_en:"Singapur",SI_sl:"Slovenia",ZA_en:"Sudáfrica",TW_zn:"Taiwán",TZ_en:"Tanzania",TH_th:"Tailandia",TN_ar:"Tunisia",UY_es:"Uruguay",VE_es:"Venezuela",VN_vi:"Vietnam",CN_en:"China",AZ_az:"Azerbaiyán",CR_es:"Costa Rica",DO_es:"República Dominicana",LK_ta:"Sri Lanka",TT_en:"Trinidad y Tobago",PR_en:"Puerto Rico",PR_es:"Puerto Rico",PK_en:"Pakistán",NI_es:"Nicaragua",KR_ko:"Corea",JM_en:"Jamaica",IL_iw:"Isreal",IL_ar:"Isreal",HN_es:"Honduras",GT_es:"Guatemala",GU_en:"Guam",SV_es:"El Salvador",FI_hu:"Finlandia",BH_ar:"Bahrein",IR_ir:"Corrí",MN_mn:"Mongolia",TH_en:"Tailandia",DM_es:"Dominica",TW_zh:"Taiwán",LI_de:"Liechtenstein",ID_en:"Indonesia",LK_en:"Sri Lanka",MY_en:"Malasia",VN_en:"Vietnam",UA_ru:"Ucrania"},nl:{AT_de:"Oostenrijk",AU_en:"Australië",BE_fr:"België",BE_nl:"België",CA_en:"Canada",CC_cc:"Commerce Connector Test Country / Cocos (Keeling) Islands",CH_de:"Zwitserland",CH_fr:"Zwitserland",CH_it:"Zwitserland",CZ_cs:"Tsjechië",DE_de:"Duitsland",DK_da:"Denemarken",ES_es:"Spanje",FI_fi:"Finland",FR_fr:"Frankrijk",FC_fr:"France COM",FD_fr:"France DOM",MC_fr:"Monaco",NC_fr:"Nieuw-Caledonië",GB_en:"Groot-Brittannië",GR_el:"Griekenland",HK_zh:"Hong Kong",HK_zn:"Hong Kong",HU_hu:"Hongarije",IE_en:"Ierland",IT_it:"Italië",LU_fr:"Luxemburg",LU_lb:"Luxemburg",NL_nl:"Nederland",NO_no:"Noorwegen",NZ_en:"Nieuw-Zeeland",PL_pl:"Polen",PT_pt:"Portugal",SE_sv:"Zweden",SK_sk:"Slowakije",RU_ru:"Rusland",UA_uk:"Oekraïne",LU_de:"Luxemburg",LT_lt:"Litouwen",LV_lv:"Letland",EE_et:"Estland",TR_tr:"Turkije",RO_ro:"Roemenië",US_en:"Verenigde Staten",IS_is:"IJsland",JP_ja:"Japan",RS_rs:"Servië",MD_ro:"Moldavië",MD_ru:"Moldavië",CA_fr:"Canada",BR_pt:"Brazilië",CN_zh:"China",CL_es:"China",IN_hi:"India",IN_en:"India",SA_ar:"Saudi-Arabië",SA_en:"Saudi Arabien (en)",AE_ar:"Verenigde Arabische Emiraten",AE_en:"Verenigde Arabische Emiraten",DZ_ar:"Algerije",AO_pt:"Angola",AR_es:"Argentinië",BY_ru:"Wit-Rusland",BO_es:"Bolivia",BG_bg:"Bulgarije",CO_es:"Colombia",HR_hr:"Hongarije",EC_es:"Ecuador",EG_ar:"Egypte",GH_en:"Ghana",HK_en:"Hong Kong",ID_id:"Indonesië",JO_ar:"Jordan",KZ_kk:"Kazachstan",KE_en:"Kenia",KW_ar:"Koeweit",LB_ar:"Libanon",MY_ms:"Maleisië",MX_es:"Mexico",MA_ar:"Marokko",MA_fr:"Marokko",MZ_pt:"Mozambique",NG_en:"Nigeria",OM_ar:"Oman",PA_es:"Panama",PY_es:"Paraguay",PE_es:"Peru",PH_en:"Filipijnen",QA_ar:"Qatar",SG_en:"Singapore",SI_sl:"Slovenië",ZA_en:"Zuid-Afrika",TW_zn:"Taiwan",TZ_en:"Tanzania",TH_th:"Thailand",TN_ar:"Tunesië",UY_es:"Uruguay",VE_es:"Venezuela",VN_vi:"Vietnam",CN_en:"China",AZ_az:"Azerbeidzjan",CR_es:"CostaRica",DO_es:"República Dominicana",LK_ta:"SriLanka",TT_en:"Trinidad en Tobago",PR_en:"Puerto Rico",PR_es:"Puerto Rico",PK_en:"Pakistan",NI_es:"Nicaragua",KR_ko:"Korea",JM_en:"Jamaica",IL_iw:"Israël",IL_ar:"Israël",HN_es:"Honduras",GT_es:"Guatemala",GU_en:"Guam",SV_es:"El Salvador",FI_hu:"Finlandia",BH_ar:"Bahrein",IR_ir:"Iran",MN_mn:"Mongolië",TH_en:"Tailandia",DM_es:"Dominica",TW_zh:"Taiwan",LI_de:"Liechtenstein",ID_en:"Indonesië",LK_en:"Sri Lanka",MY_en:"Maleisië",VN_en:"Vietnam",UA_ru:"Oekraïne"}};function m(e){var t=e.widgetId,n=e.locale,i=e.countrySelector,o=e.translations,s=e.children,c=Object(a.useState)(o||null),u=c[0],f=c[1],m=Object(a.useState)(null),y=m[0],g=m[1],b=Object(a.useState)(n),T=b[0],v=b[1],O=Object(a.useState)(p),C=O[0],E=O[1],I=Object(a.useState)(!1),S=I[0],N=I[1];Object(a.useEffect)((function(){t&&(t.match(/\.json$/i)?(g({}),_("default").then((function(e){var t={};Object.keys(e).forEach((function(n){t[n]=d(p,e[n])})),f(t)})).catch((function(){f({})}))):(_(t).then((function(e){var t={};Object.keys(e).forEach((function(n){t[n]=d(p,e[n])})),f(t)})).catch((function(){f({})})),function(e){var t="https://fi-v2-configs.global.commerce-connector.com/configurations/"+e.split("_")[1]+".json?v="+(new Date).getTime();return fetch(t).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){var t={};return Object.keys(e).forEach((function(n){Object.keys(e[n]).forEach((function(a){t[a]||(t[a]={}),t[a][n]=e[n][a]}))})),t}))}(t).then((function(e){var t={};Object.keys(e).forEach((function(n){t[n]=d({},e[n])})),g(t)})).catch((function(){g({})}))))}),[t]),Object(a.useEffect)((function(){if(u&&y&&T){var e=Object.assign({},p,u[T],y[T]);E(e),N(!0)}}),[u,y,T]),Object(a.useEffect)((function(){n&&n!==T&&v(n),"zh_TW"!==n&&"zh_tw"!==n||v("zn_TW"),"zh_HK"!==n&&"zh_hk"!==n||v("zn_HK")}),[T,n]),Object(a.useEffect)((function(){i&&(i.country_selection=i.country_selection.map((function(e){var t=e.locale.replace("-","_");return e.default=e.country_name,e.country_name=void 0!==h[T]?h[T][t]:h.en_gb[t],e})).sort((function(e,t){var n,a,r=null===(n=e.country_name)||void 0===n?void 0:n.toUpperCase(),i=null===(a=t.country_name)||void 0===a?void 0:a.toUpperCase(),o=0;return r>i?o=1:r<i&&(o=-1),o})))}),[i,T]);var A=Object(a.useCallback)((function(e){return C&&"string"==typeof C[e]&&""!==C[e]?C[e]:e}),[C]),R=Object(a.useCallback)((function(e){return void 0!==h[T]?h[T][e]:h.en_gb[e]}),[T]);return r.a.createElement(l.a.Provider,{value:{_t:A,_tc:R}},S&&s)}m.defaultProps={locale:"en_US"};var y=n(12),g=n(15),b=n(21);function T(e){var t=Object(a.useState)(g.a),n=t[0],i=t[1];return Object(a.useEffect)((function(){e.theme&&i(Object.assign({},g.a,e.theme,{palette:Object.assign({},g.a.palette,e.theme.palette),rtl:Object(b.a)()}))}),[e.theme]),r.a.createElement(y.a.Provider,{value:{theme:n,setTheme:i}},e.children)}var v=n(47),O=n(1),C=n(32),E=n(28),I=n(41),S=n(11),N=n.n(S),A=n(19),R="https://event-tracking-services.global.commerce-connector.com/widgetevents/standard_widget_2";function L(){return(L=Object(A.a)(N.a.mark((function e(t,n){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){var t=(new Date).getTime();return Object.assign({client_timestamp:t},e)},k=function(e,t){var n=function(e){return Object.keys(e).forEach((function(t){return null==e[t]&&delete e[t]})),e}(t);t&&function(e,t){return L.apply(this,arguments)}(R,w(n)).then((function(e){})).catch((function(e){console.warn("sendToApiGateway ERROR",e)}));var a=window.CCEventTrackingCallback;if("function"==typeof a)try{a(e,w(t))}catch(e){console.warn(e)}"true"===t[O.h.GTM_TRACKING]&&(delete t.anon_t,window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"CommerceConnectorWidget",eventType:e,eventContext:w(t)}))},M=function(e,t){var n,a=t.type,r=t.payload,i=e;switch(i.widgetSize||(i.widgetSize="default"),a){case"UPDATE":i.contextData=Object.assign({},e.contextData,r.contextData);break;case"CHANNEL":i.channelData=r.channel;break;case"TRACK":"widget_other_impression"!==r.eventType&&"widget_open_impression"!==r.eventType&&"shop_clickout"!==r.eventType&&"store_clickout"!==r.eventType||(i.widgetSize=(n=r.eventData)&&n.widget_size?n.widget_size:"default",i.onlineShopList=function(e){return e&&e.shop_list?e.shop_list:[]}(r.eventData),i.localStoreList=function(e){return e&&e.local_store_list?e.local_store_list:[]}(r.eventData)),k(r.eventType,function(e,t){var n=e.contextData,a=e.channelData,r=e.onlineShopList,i=e.localStoreList,o=e.widgetSize,s=t.eventType,l=t.eventData,c=Object.assign({event_type:s},n,l);switch(s){case"wtb_button_impression":case"wtb_button_click":break;case"widget_open_impression":case"widget_other_impression":case"widget_closed":c=Object.assign({},c,a,{widget_size:o,shop_list:r,local_store_list:i});break;case"shop_clickout":c=Object.assign({},c,a,{widget_size:o,shop_list:r});break;case"store_clickout":c=Object.assign({},c,a,{widget_size:o,local_store_list:i});break;case"channel_tab_click":c=Object.assign({},a,c,{widget_size:o});break;default:c=Object.assign({},a,c)}return c}(i,r))}return i},P=n(40),B=function(e){var t,n={t_utm_source:e[O.h.UTM_SOURCE]||null,t_utm_medium:e[O.h.UTM_MEDIUM]||null,t_utm_campaign:e[O.h.UTM_CAMPAIGN]||null,t_utm_term:e[O.h.UTM_TERM]||null,t_utm_content:e[O.h.UTM_CONTENT]||null,api_token:e[O.h.TOKEN]};return t=n,Object.keys(t).forEach((function(e){return null==t[e]&&delete t[e]})),t},x=function(e){var t,n=Object.assign(((t={data_ean:e[O.h.EAN]||"",data_man:e[O.h.MAN]||"",data_pzn:e[O.h.PZN]||"",data_locale:e[O.h.LOCALE],data_displaylanguage:e[O.h.DISPLAY_LANGUAGE],data_widgetid:e[O.h.WIDGET_ID],data_subid:e[O.h.SUB_ID]||"",data_trackingid:e[O.h.TRACKING_ID]||"",view_id:e[O.h.SESSION_ID].current,device_type:e[O.h.DEVICE_TYPE]})[O.h.GTM_TRACKING]=e[O.h.GTM_TRACKING],t.productLine="swn",t),B(e));return e[O.h.SUB_ID]&&e[O.h.SUB_UNIQUE_ID]&&e[O.h.SUB_UNIQUE_ID].length&&(n[O.h.TRACKING_SUBID_ID]=parseInt(e[O.h.SUB_UNIQUE_ID])),"inline"===e.mode&&(n[O.h.TRACKING_INLINE_WIDGET]=!0),e[O.h.TRACKING_VIEW_TYPE]&&(n[O.h.TRACKING_VIEW_TYPE]=e[O.h.TRACKING_VIEW_TYPE]),n},D=function(e){return e?e[O.h.EAN]?O.h.EAN:e[O.h.MAN]?O.h.MAN:e[O.h.PZN]?O.h.PZN:null:null},U=function(e,t){var n=t||D(e);return{data_ean:n===O.h.EAN&&e[O.h.EAN]||"",data_man:n===O.h.MAN&&e[O.h.MAN]||"",data_pzn:n===O.h.PZN&&e[O.h.PZN]||""}},j=function(e){var t=e.children,n=Object(P.a)(),i=Object(a.useContext)(s.a),o=i.appConf,c=i.productConf,u=i.locale,f=Object(a.useContext)(E.a).productVariant,_=Object(a.useContext)(l.a)._t,d=o[O.h.TRACKING_VIEW_TYPE],p=Object(a.useReducer)(M,{contextData:x(o)})[1];Object(a.useEffect)((function(){(o||d)&&p({type:"UPDATE",payload:{contextData:x(o)}})}),[o,d]),Object(a.useEffect)((function(){c&&p({type:"UPDATE",payload:{contextData:U(c)}})}),[c]),Object(a.useEffect)((function(){u&&p({type:"UPDATE",payload:{contextData:{data_locale:u}}})}),[u]),Object(a.useEffect)((function(){o.countrySelector&&p({type:"UPDATE",payload:{contextData:{data_displaylanguage:null==u?void 0:u.substring(0,2)}}})}),[o,u]),Object(a.useEffect)((function(){if(f){var e=D(c);e&&p({type:"UPDATE",payload:{contextData:U(f,e)}})}}),[c,f]),Object(a.useEffect)((function(){n&&p({type:"CHANNEL",payload:{channel:{channel_type:n===O.a.LOCAL?"offline":"online",channel_name:_(n===O.a.LOCAL?C.a.CHANNEL_BNIS:C.a.CHANNEL_BNO),channel_position:o[O.h.BUYNOW_CHANNELS].indexOf(n)}}})}),[o,n,_]);var h=Object(a.useCallback)((function(e,t){p({type:"TRACK",payload:{eventType:e,eventData:t}})}),[]);return r.a.createElement(I.a.Provider,{value:{track:h}},t)},H=n(8),G="setApiProvider",z="setLocale",K=n(5),F=n(29),W=n(6),Z=(n(24),n(13)),V={init:function(e){var t=e.apiKey,n=e.clientKey,a=e.channelId,r=new Promise((function(e,i){window.CCGoogleMapsHandler=function(){e()};var o="https://maps.googleapis.com/maps/api/js?libraries=geometry,places&callback=CCGoogleMapsHandler";if(t)o+="&key="+t;else{if(!n)return void i("Invalid googleMaps API configuration");o+="&client="+n,a&&(o+="&channel="+a)}var s=document.createElement("script");s.async=!0,s.defer=!0,s.src=o,s.onerror=function(){i("Could not load GoogleMaps API")},document.head.appendChild(s),V.init=function(){return r}}));return r}},Y=V,J=function(e){return function(t){var n=Object(Z.b)(),i=Object(a.useState)({pending:!1,ready:!1,error:null}),o=i[0],s=i[1],l=o.pending,c=o.ready,u=o.error;return c||l||u||(s((function(e){return Object.assign({},e,{pending:!0})})),Y.init({apiKey:n}).then((function(){s((function(e){return Object.assign({},e,{pending:!1,ready:!0})}))})).catch((function(e){s((function(t){return Object.assign({},t,{pending:!1,error:e})}))}))),c?r.a.createElement(e,t):u?r.a.createElement("span",null,u):null}},q=function(){function e(t,n,a){var r=this,i=window.google,o=a||{};this.extend(e,i.maps.OverlayView),this.map_=t,this.markers_=[],this.clusters_=[],this.sizes=[53,56,66,78,90],this.styles_=[],this.ready_=!1,this.gridSize_=o.gridSize||60,this.minClusterSize_=o.minimumClusterSize||2,this.maxZoom_=o.maxZoom||null,this.styles_=o.styles||[],this.zoomOnClick_=void 0===o.zoomOnClick||o.zoomOnClick,this.averageCenter_=void 0!==o.averageCenter&&o.averageCenter,this.setupStyles_(),this.setMap(t),this.prevZoom_=this.map_.getZoom(),i.maps.event.addListener(this.map_,"zoom_changed",(function(){var e=r.map_.getZoom(),t=r.map_.minZoom||0,n=Math.min(r.map_.maxZoom||100,r.map_.mapTypes[r.map_.getMapTypeId()].maxZoom);e=Math.min(Math.max(e,t),n),r.prevZoom_!==e&&(r.prevZoom_=e,r.resetViewport())})),i.maps.event.addListener(this.map_,"idle",(function(){r.redraw()})),n&&(n.length||Object.keys(n).length)&&this.addMarkers(n,!1)}var t=e.prototype;return t.extend=function(e,t){return function(e){for(var t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},t.onAdd=function(){this.setReady_(!0)},t.draw=function(){},t.setupStyles_=function(){if(!this.styles_.length)for(var e,t=0;t<this.sizes.length;t++)e=this.sizes[t],this.styles_.push({height:e,width:e})},t.fitMapToMarkers=function(){var e,t,n=window.google,a=this.getMarkers(),r=new n.maps.LatLngBounds;for(e=0;e<a.length;e++)t=a[e],r.extend(t.getPosition());this.map_.fitBounds(r)},t.setStyles=function(e){this.styles_=e},t.getStyles=function(){return this.styles_},t.isZoomOnClick=function(){return this.zoomOnClick_},t.isAverageCenter=function(){return this.averageCenter_},t.getMarkers=function(){return this.markers_},t.getTotalMarkers=function(){return this.markers_.length},t.setMaxZoom=function(e){this.maxZoom_=e},t.getMaxZoom=function(){return this.maxZoom_},t.calculator_=function(e,t){for(var n=e.length,a=n,r=0;0!==a;)a=parseInt(a/10,10),r++;return{text:n,index:r=Math.min(r,t)}},t.setCalculator=function(e){this.calculator_=e},t.getCalculator=function(){return this.calculator_},t.addMarkers=function(e,t){var n,a;if(e.length)for(n=0;n<e.length;n++)this.pushMarkerTo_(e[n]);else if(Object.keys(e).length)for(a in e)this.pushMarkerTo_(e[a]);t||this.redraw()},t.pushMarkerTo_=function(e){var t=this,n=window.google;e.isAdded=!1,e.draggable&&n.maps.event.addListener(e,"dragend",(function(){e.isAdded=!1,t.repaint()})),this.markers_.push(e)},t.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw()},t.removeMarker_=function(e){var t=this.markers_.indexOf(e);return-1!==t&&(e.setMap(null),this.markers_.splice(t,1),!0)},t.removeMarker=function(e,t){var n=this.removeMarker_(e);return!(t||!n)&&(this.resetViewport(),this.redraw(),!0)},t.removeMarkers=function(e,t){var n,a,r=e===this.getMarkers()?e.slice():e,i=!1;for(n=0;n<r.length;n++)a=r[n],i=i||this.removeMarker_(a);if(!t&&i)return this.resetViewport(),this.redraw(),!0},t.setReady_=function(e){this.ready_||(this.ready_=e,this.createClusters_())},t.getTotalClusters=function(){return this.clusters_.length},t.getMap=function(){return this.map_},t.setMap=function(e){this.map_=e},t.getGridSize=function(){return this.gridSize_},t.setGridSize=function(e){this.gridSize_=e},t.getMinClusterSize=function(){return this.minClusterSize_},t.setMinClusterSize=function(e){this.minClusterSize_=e},t.getExtendedBounds=function(e){var t=window.google,n=this.getProjection(),a=new t.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),r=new t.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),i=n.fromLatLngToDivPixel(a);i.x+=this.gridSize_,i.y-=this.gridSize_;var o=n.fromLatLngToDivPixel(r);o.x-=this.gridSize_,o.y+=this.gridSize_;var s=n.fromDivPixelToLatLng(i),l=n.fromDivPixelToLatLng(o);return e.extend(s),e.extend(l),e},t.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},t.clearMarkers=function(){this.resetViewport(!0),this.markers_=[]},t.resetViewport=function(e){var t,n;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(t=0;t<this.markers_.length;t++)(n=this.markers_[t]).isAdded=!1,e&&n.setMap(null);this.clusters_=[]},t.repaint=function(){var e=this.clusters_.slice();this.clusters_.length=0,this.resetViewport(),this.redraw(),setTimeout((function(){for(var t=0;t<e.length;t++)e[t].remove()}),0)},t.redraw=function(){this.createClusters_()},t.distanceBetweenPoints_=function(e,t){if(!e||!t)return 0;var n=(t.lat()-e.lat())*Math.PI/180,a=(t.lng()-e.lng())*Math.PI/180,r=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))},t.addToClosestCluster_=function(e){var t,n,a,r,i=4e4,o=null;for(t=0;t<this.clusters_.length;t++)(r=(a=this.clusters_[t]).getCenter())&&(n=this.distanceBetweenPoints_(r,e.getPosition()))<i&&(i=n,o=a);o&&o.isMarkerInClusterBounds(e)?o.addMarker(e):((a=new X(this)).addMarker(e),this.clusters_.push(a))},t.createClusters_=function(){if(this.ready_){var e,t,n=new window.google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),a=this.getExtendedBounds(n);for(e=0;e<this.markers_.length;e++)!(t=this.markers_[e]).isAdded&&this.isMarkerInBounds_(t,a)&&this.addToClosestCluster_(t)}},e}(),X=function(){function e(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinClusterSize(),this.averageCenter_=e.isAverageCenter(),this.center_=null,this.markers_=[],this.bounds_=null,this.clusterIcon_=new Q(this,e.getStyles(),e.getGridSize())}var t=e.prototype;return t.isMarkerAlreadyAdded=function(e){return-1!==this.markers_.indexOf(e)},t.addMarker=function(e){if(this.isMarkerAlreadyAdded(e))return!1;var t=window.google;if(this.center_){if(this.averageCenter_){var n=this.markers_.length+1,a=(this.center_.lat()*(n-1)+e.getPosition().lat())/n,r=(this.center_.lng()*(n-1)+e.getPosition().lng())/n;this.center_=new t.maps.LatLng(a,r),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();e.isAdded=!0,this.markers_.push(e);var i=this.markers_.length;if(i<this.minClusterSize_&&e.getMap()!==this.map_&&e.setMap(this.map_),i===this.minClusterSize_)for(var o=0;o<i;o++)this.markers_[o].setMap(null);return i>=this.minClusterSize_&&e.setMap(null),this.updateIcon(),!0},t.getMarkerClusterer=function(){return this.markerClusterer_},t.getBounds=function(){var e=new window.google.maps.LatLngBounds(this.center_,this.center_);return this.getMarkers().forEach((function(t){e.extend(t.getPosition())})),e},t.remove=function(){this.clusterIcon_.remove(),this.markers_.length=0,delete this.markers_},t.getSize=function(){return this.markers_.length},t.getMarkers=function(){return this.markers_},t.getCenter=function(){return this.center_},t.calculateBounds_=function(){var e=new window.google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},t.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},t.getMap=function(){return this.map_},t.updateIcon=function(){var e=this,t=this.map_.getZoom(),n=this.markerClusterer_.getMaxZoom();if(n&&t>n)this.markers_.forEach((function(t){t.setMap(e.map_)}));else if(this.markers_.length<this.minClusterSize_)this.clusterIcon_.hide();else{var a=this.markerClusterer_.getStyles().length,r=this.markerClusterer_.getCalculator()(this.markers_,a);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(r),this.clusterIcon_.show()}},e}(),Q=function(){function e(t,n,a){var r=window.google;t.getMarkerClusterer().extend(e,r.maps.OverlayView),this.styles_=n,this.cluster_=t,this.center_=null,this.map_=t.getMap(),this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(this.map_)}var t=e.prototype;return t.triggerClusterClick=function(){var e=window.google,t=this.cluster_.getBounds(),n=this.cluster_.getMarkerClusterer();e.maps.event.trigger(n.map_,"clusterclick",this.cluster_),n.isZoomOnClick()&&(this.map_.fitBounds(t),this.map_.setCenter(t.getCenter()))},t.onAdd=function(){var e=this,t=window.google;if(this.div_=document.createElement("div"),this.visible_){var n=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(n),this.div_.innerHTML=this.sums_.text}this.cssClassName_&&(this.div_.className=this.cssClassName_),this.getPanes().overlayMouseTarget.appendChild(this.div_),t.maps.event.addDomListener(this.div_,"click",(function(){e.triggerClusterClick()}))},t.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=parseInt(this.width_/2,10),t.y-=parseInt(this.height_/2,10),t},t.draw=function(){var e=window.google;if(this.visible_){var t=this.getPosFromLatLng_(this.center_);this.div_.style.top=t.y+"px",this.div_.style.left=t.x+"px",this.div_.style.zIndex=e.maps.Marker.MAX_ZINDEX+1}},t.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},t.show=function(){if(this.div_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),this.div_.style.display=""}this.visible_=!0},t.remove=function(){this.setMap(null)},t.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)},t.setSums=function(e){this.sums_=e,this.text_=e.text,this.index_=e.index,this.div_&&(this.div_.innerHTML=e.text),this.useStyle()},t.useStyle=function(){var e=Math.max(0,this.sums_.index-1);e=Math.min(this.styles_.length-1,e);var t=this.styles_[e];this.height_=t.height,this.width_=t.width,this.textColor_=t.textColor,this.backgroundColor_=t.backgroundColor,this.textSize_=t.textSize,this.cssClassName_=t.cssClassName},t.setCenter=function(e){this.center_=e},t.createCss=function(e){var t=[],n=this.textColor_?this.textColor_:"black",a=this.textSize_?this.textSize_:11,r=this.backgroundColor_?this.backgroundColor_:"white";return t.push("position:absolute; text-align:center; cursor:pointer; border-radius: 100%;"),t.push("top:"+e.y+"px; left:"+e.x+"px;"),t.push("width:"+this.width_+"px; height:"+this.height_+"px;"),t.push("background-color:"+r+"; color:"+n+"; font-size:"+a+"px;"),t.join("")},e}(),$=q;function ee(e){var t=window.google,n="function"==typeof e.lat?e.lat():parseFloat(e.lat),a="function"==typeof e.lng?e.lng():parseFloat(e.lng);return new t.maps.LatLng(n,a)}var te,ne=(te=0,function(){var e=window.google;return 0===te?te=e.maps.Marker.MAX_ZINDEX+1:te+=1,te}),ae=function(e){var t=window.google;return{path:"M17,2C8.716,2,2,8.716,2,17s6.716,15,15,15s15-6.716,15-15 S25.284,2,17,2z M17,19c-1.104,0-2-0.896-2-2s0.896-2,2-2s2,0.896,2,2S18.104,19,17,19z",fillColor:e||"#000000",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:3,scale:.8,size:new t.maps.Size(40,40),anchor:new t.maps.Point(20,20)}},re=function(e){var t=window.google;return{path:"M20,0C8.854,0,0,8.956,0,20c0,14.877,20,30,20,30s20-15.123,20-30C40,8.804,31.146,0,20,0z",fillColor:e||"#ee6452",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2,scale:.5,size:new t.maps.Size(40,50),anchor:new t.maps.Point(20,50)}},ie=function(e){return re(e)},oe=function(e){var t=window.google;return{path:"M21,1C9.854,1,1,9.956,1,21c0,14.877,20,30,20,30 s20-15.123,20-30C41,9.804,32.146,1,21,1z M21,26c-2.761,0-5-2.239-5-5s2.239-5,5-5c2.76,0,5,2.239,5,5S23.76,26,21,26z",fillColor:e||"#ee6452",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2,scale:1,size:new t.maps.Size(40,50),anchor:new t.maps.Point(20,50)}},se={simple:[{featureType:"landscape",elementType:"all",stylers:[{color:"#f0f0f0"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"simplified"},{weight:.5}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"transit",stylers:[{visibility:"off"}]}],grey:[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}]},le=se;function ce(e){return e?{top:-80,bottom:0,left:-40,right:-40}:Object(b.a)()?{right:380}:{left:380}}var ue=function(e){function t(t){var n;return n=e.call(this,t)||this,Object(W.a)(Object(K.a)(n),"setContainerRef",(function(e){n.mapContainer=e})),Object(W.a)(Object(K.a)(n),"handleMapReady",(function(){n.updateMarkers()})),Object(W.a)(Object(K.a)(n),"createMap",(function(e,t){var a,r=window.google;switch(t){case"grey":a=le.grey;break;default:a=le.simple}var i=n.getMapViewport(),o=Object.assign({mapTypeId:r.maps.MapTypeId.ROADMAP,mapTypeControl:!1,styles:a,streetViewControl:!1,disableDefaultUI:!0,scrollwheel:!0,draggable:!0},i),s=new r.maps.Map(e,o);n.setState({mapInstance:s}),r.maps.event.addListenerOnce(s,"idle",(function(){n.setState({isMapReady:!0,markerClusterer:n.createMarkerClusterer(s)},n.handleMapReady)}))})),Object(W.a)(Object(K.a)(n),"createMarkerClusterer",(function(e){var t=n.props,a=t.clusterMarkerColor,r=t.clusterTextColor,i=t.clusterTextSize,o={height:30,width:30,textColor:r,backgroundColor:a,textSize:i,cssClassName:t.clusterClassName};return new $(e,[],{maxZoom:12,gridSize:60,styles:[Object.assign({},o),Object.assign({},o,{height:40,width:40,textSize:i+1}),Object.assign({},o,{height:54,width:54,textSize:i+2})]})})),Object(W.a)(Object(K.a)(n),"removeMapMarker",(function(e){e.marker&&(window.google.maps.event.clearInstanceListeners(e.marker),e.marker.setMap(null),e.marker=null)})),Object(W.a)(Object(K.a)(n),"createMapMarker",(function(e){var t,a=window.google,r=n.state.mapInstance,i=n.props,o=i.activeMarkerId,s=i.highlightedMarkerId,l=i.markerColor,c=i.activeMarkerColor,u=!1,f=!1;o&&e.id===o?(t=oe(c),u=!0):s&&e.id===s?(t=ie(c),f=!0):t=re(l);var _={id:e.id,active:u,highlighted:f,marker:new a.maps.Marker({position:ee(e.location),map:r,icon:t})};return _.marker.addListener("click",(function(){return n.handleClickMapMarker(_)})),_})),Object(W.a)(Object(K.a)(n),"updateMarkers",(function(){var e=n.state,t=e.mapInstance,a=e.searchMarker,r=e.mapMarkers,i=e.markerClusterer,o=window.google,s=n.props,l=s.markers,c=s.searchLocation,u=s.activeMarkerId,f=a;if(c){var _=ee(c);f?f.setPosition(_):f=new o.maps.Marker({position:_,map:t,icon:ae()})}r&&r.forEach((function(e){n.removeMapMarker(e)})),i&&i.clearMarkers();var d=[];l&&l&&l.forEach((function(e){d.push(n.createMapMarker(e))})),i&&i.addMarkers(d.map((function(e){return e.marker}))),n.setState({mapMarkers:d,searchMarker:f},(function(){u?n.updateMapViewport():n.resetMapBounds()}))})),Object(W.a)(Object(K.a)(n),"getMapViewport",(function(){var e=n.props,t=e.markers,a=e.searchLocation,r=window.google,i=null,o=null;if(a&&(i=ee(a)),t&&t.length&&(o=new r.maps.LatLngBounds,a&&o.extend(ee(a)),t.forEach((function(e){o.extend(ee(e.location))})),i=o.getCenter(),o.getNorthEast().equals(o.getSouthWest()))){var s=new r.maps.LatLng(o.getNorthEast().lat()+.01,o.getNorthEast().lng()+.01);o.extend(s)}return{zoom:13,center:i,bounds:o}})),Object(W.a)(Object(K.a)(n),"resetMapBounds",(function(){var e=n.state,t=e.mapInstance,a=e.mapPadding,r=n.getMapViewport();if(r.bounds){t.fitBounds(r.bounds);var i=function(e,t,n){var a=window.google,r=e.getProjection();if(r){t=new a.maps.LatLngBounds(t.getSouthWest(),t.getNorthEast());var i,o,s,l=Math.pow(2,e.getZoom()),c={top:0,right:0,bottom:0,left:0};return["left","top","right","bottom"].forEach((function(e){isNaN(n[e])||(c[e]=n[e])})),i=r.fromLatLngToPoint(t.getSouthWest()),o=new a.maps.Point("number"==typeof c.left?c.left/l:0,"number"==typeof c.bottom?c.bottom/l:0),s=r.fromPointToLatLng(new a.maps.Point(i.x-o.x,i.y+o.y)),t.extend(s),i=r.fromLatLngToPoint(t.getNorthEast()),o=new a.maps.Point("number"==typeof c.right?c.right/l:0,"number"==typeof c.top?c.top/l:0),s=r.fromPointToLatLng(new a.maps.Point(i.x+o.x,i.y-o.y)),t.extend(s),t}}(t,r.bounds,a);t.fitBounds(i)}else!function(e,t){var n=t.bounds,a=t.center,r=t.zoom;e&&(a&&e.panTo(a),r&&e.setZoom(r),n&&e.fitBounds(n))}(t,r)})),Object(W.a)(Object(K.a)(n),"highlightMarker",(function(e){var t=n.state.mapMarkers;if(t){var a=n.props,r=a.markerColor,i=a.activeMarkerColor,o=window.google;t.forEach((function(t){!t.active&&e&&e===t.id?t.highlighted||(t.highlighted=!0,t.zIndex=t.marker.getZIndex(),t.marker.setZIndex(ne()),t.marker.setIcon(ie(i)),t.marker.setAnimation(o.maps.Animation.BOUNCE)):t.highlighted&&(t.highlighted=!1,t.active||(t.marker.setZIndex(t.zIndex),t.marker.setIcon(re(r)),t.marker.setAnimation(null)))}))}})),Object(W.a)(Object(K.a)(n),"activateMarker",(function(e){var t=n.state.mapMarkers;if(t){var a=n.props,r=a.markerColor,i=a.activeMarkerColor;t.forEach((function(t,n){e&&e===t.id?(t.active=!0,t.zIndex=t.marker.getZIndex(),t.marker.setIcon(oe(i)),t.marker.setZIndex(ne()),t.marker.setAnimation(null)):t.active&&(t.active=!1,t.marker.setIcon(re(r)),t.marker.setZIndex(t.zIndex),t.marker.setAnimation(null))})),n.invalidateMapViewport()}})),Object(W.a)(Object(K.a)(n),"clearMapViewportTimeout",(function(){n.mapViewportTimeout&&(clearTimeout(n.mapViewportTimeout),n.mapViewportTimeout=null)})),Object(W.a)(Object(K.a)(n),"invalidateMapViewport",(function(){n.clearMapViewportTimeout(),n.mapViewportTimeout=setTimeout((function(){n.mapViewportTimeout=null,n.updateMapViewport()}),250)})),Object(W.a)(Object(K.a)(n),"updateMapViewport",(function(){var e=n.state,t=e.isMapReady,a=e.mapInstance,r=e.mapMarkers,i=n.props.activeMarkerId;if(t){var o=null;i&&r&&r.forEach((function(e){e.id===i&&(o=e)})),o?(a.setZoom(14),a.panTo(function(e,t,n){var a=window.google,r=Math.pow(2,e.getZoom()),i=e.getProjection();if(!i)return t;var o=isNaN(n.x)?0:n.x,s=isNaN(n.y)?0:n.y,l=i.fromLatLngToPoint(t),c=new a.maps.Point(o/r||0,s/r||0),u=new a.maps.Point(l.x-c.x,l.y+c.y);return i.fromPointToLatLng(u)}(a,o.marker.getPosition(),n.getMapCenterOffset()))):n.resetMapBounds()}})),Object(W.a)(Object(K.a)(n),"handleClickMapMarker",(function(e){(0,n.props.onClickMarker)(e.id)})),Object(W.a)(Object(K.a)(n),"getMapCenterOffset",(function(){var e=n.state.mapPadding,t=isNaN(e.top)?0:e.top,a=isNaN(e.bottom)?0:e.bottom;return{x:.5*((isNaN(e.left)?0:e.left)-(isNaN(e.right)?0:e.right)),y:-.5*(t-a)}})),n.state={isMapReady:!1,mapInstance:null,mapMarkers:null,mapPadding:ce(t.isMobile),searchMarker:null},n.mapContainer=null,n}Object(F.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.mapContainer,t=this.props.mapTheme;this.createMap(e,t)},n.componentWillUnmount=function(){var e=window.google,t=this.state,n=t.mapInstance,a=t.mapMarkers;this.clearMapViewportTimeout(),a&&a.forEach((function(t){e.maps.event.clearInstanceListeners(t.marker),t.marker.setMap(null)})),n&&e.maps.event.clearInstanceListeners(n)},n.componentDidUpdate=function(e,t){var n=this.state.isMapReady,a=this.props,r=a.isMobile,i=a.markers,o=a.activeMarkerId,s=a.highlightedMarkerId,l=!1;n&&(t.isMapReady,i!==e.markers&&(l=!0),l?this.updateMarkers():(o!==e.activeMarkerId&&this.activateMarker(o),s!==e.highlightedMarkerId&&this.highlightMarker(s))),r!==e.isMobile&&this.setState({mapPadding:ce(r)},this.resetMapBounds)},n.render=function(){return r.a.createElement("div",{className:this.props.className,ref:this.setContainerRef,style:{position:"absolute",left:0,top:0,width:"100%",height:"100%"}})},t}(r.a.Component);ue.defaultProps={markerColor:"#000000",activeMarkerColor:"#000000",clusterMarkerColor:"#000000",clusterTextColor:"#ffffff",clusterTextSize:14,onClickMarker:function(){},mapTheme:"default"};var fe=J(ue),_e=n(16),de=n(22);var pe={FC:["bl","mf","wf","pm","pf"],FD:["yt","re","mq","gp","gf"]},he=function(e,t){var n,a=t.callback,r=t.country,i=window.google;if(!r||!a||!function(){var e=window.google;return e&&e.maps.places&&e.maps.places.Autocomplete}())return!1;var o={componentRestrictions:{country:null!==(n=pe[r])&&void 0!==n?n:r},types:["(regions)"]},s=null,l=null;return s=new i.maps.places.Autocomplete(e,o),l=s.addListener("place_changed",(function(){a(s.getPlace())})),{setCountry:function(e){var t,n=null!==(t=pe[e])&&void 0!==t?t:e;s&&s.setOptions({componentRestrictions:{country:n}})},destroy:function(){s&&(s.unbindAll(),i.maps.event.removeListener(l),s=null,l=null),document.querySelectorAll(".pac-container").forEach((function(e,t){e.style.display="none"}))}}},me="https://maps.googleapis.com/maps/api/geocode/json";function ye(e){if(e){var t={address:e.formatted_address};return e.address_components instanceof Array&&(e.address_components.forEach((function(e){var n=e.types,a=e.short_name,r=e.long_name;n.filter((function(e){return"route"===e}))[0]?t.street=a:n.filter((function(e){return"locality"===e||"postal_town"===e}))[0]?t.city=r:n.filter((function(e){return"country"===e}))[0]?(t.country=r,t.countryShortName=a):n.filter((function(e){return"postal_code"===e}))[0]&&(t.zip=a)})),t.zip&&t.city&&t.country&&(t.address=[[t.zip,t.city].join(" "),t.country].join(", "))),t}}function ge(){var e=r.a.useContext(H.a),t=e.apiKey,n=e.country,a=e.language;return r.a.useCallback((function(e){var r=function(e){var t=e.apiKey,n=e.country,a=e.language,r=e.address;return me+"?address="+encodeURIComponent(r)+"&key="+t+"&language="+a+"&components=country:"+n}({apiKey:t,country:n,language:a,address:e});return fetch(r).then((function(e){return e.json()})).then((function(e){var t=e.results,n=t&&t[0];if(n&&n.geometry){var a=ye(n);return Object.assign({},a,n.geometry.location)}}))}),[t,n,a])}function be(){var e=r.a.useContext(H.a),t=e.apiKey,n=e.country,a=e.language;return r.a.useCallback((function(e){var r=function(e){var t=e.apiKey,n=e.location,a=e.language;return me+"?latlng="+n.lat+","+n.lng+"&key="+t+"&result_type=postal_code&language="+a}({apiKey:t,country:n,language:a,location:e});return fetch(r).then((function(e){return e.json()})).then((function(e){var t=e.results;if(t&&t[0]){var n=ye(t[0]);if(n)return n}}))}),[t,n,a])}var Te=["className","label","placeholder","resetKey","value","style","searchLocation","onFocus","onBlur","onChange","onSubmit","onLocationChange","onAutoDetectAddress"],ve=J((function(e){var t=e.className,n=e.label,a=e.placeholder,i=void 0===a?"":a,o=e.resetKey,s=void 0===o?0:o,l=(e.value,e.style),c=e.searchLocation,u=e.onFocus,f=e.onBlur,_=e.onChange,d=e.onSubmit,p=e.onLocationChange,h=e.onAutoDetectAddress,m=Object(de.a)(e,Te),y=Object(Z.c)(),g=ge(),b=be(),T=r.a.useState(null),v=T[0],O=T[1],C=r.a.useRef(),E=r.a.useRef();r.a.useEffect((function(){v&&p&&p(v)}),[v,p]),r.a.useEffect((function(){var e=E.current;e&&(c?c.address?e.value=c.address:c.lat&&c.lng&&b(c).then((function(e){var t=E.current;t&&e&&e.address&&(t.value=e.address,c.address=e.address,c.city=e.city||"",c.country=e.country||"",c.zip=e.zip||"",h(e))})):(e.value="",e.blur()))}),[E,c,h,b]),r.a.useEffect((function(){var e=E.current;if(e&&y)if(C.current)C.current.setCountry(y);else{C.current=he(e,{country:y,callback:function(e){if(e&&e.geometry&&e.geometry.location){var t={address:e.formatted_address,type:e.types&&e.types[0],lat:e.geometry.location.lat(),lng:e.geometry.location.lng()};O(t)}}});var t=setInterval((function(){var e=document.querySelectorAll(".pac-container");e.forEach((function(e){e.setAttribute("aria-live","polite"),e.setAttribute("aria-label","Contains google autocomplete results")})),e.length&&clearInterval(t)}),200)}}),[E,C,y,b]),r.a.useEffect((function(){var e=C.current;return function(){e&&e.destroy()}}),[C]),r.a.useEffect((function(){var e,t=E.current;return t&&s>0&&(t.value="",e=setTimeout((function(){t.focus()}),10)),function(){e&&clearTimeout(e)}}),[E,s]);var I=r.a.useCallback((function(e){""===e.target.value&&c&&c.address&&Date.now()-s>100&&(e.target.value=c.address),f&&f(e)}),[c,s,f]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"locationSearch",className:n},"Search locations using City name or ZIP code."),r.a.createElement("input",Object(_e.a)({id:"locationSearch",tabIndex:"0",className:t,style:l,type:"search",autoComplete:"off",spellCheck:"false",placeholder:i,onKeyDown:function(e){if("Enter"===e.key||13===e.keyCode){var t=e.target.value;t.length>2&&g(t).then((function(e){var t=E.current;t&&e&&e.lat&&e.lng&&e.address&&(O(e),t.value=e.address,t.blur())})),d&&d(t)}},onFocus:u,onBlur:I,onChange:_,ref:E},m)))})),Oe={getMapComponent:function(){return fe},getSearchInputComponent:function(){return ve}},Ce="https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js",Ee="https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css";function Ie(e){return Object.keys(e).map((function(t){return t+"="+e[t]})).join("&")}function Se(e){var t=e.apiKey,n=e.country,a=e.language,r=e.address,i=e.autocomplete,o=void 0!==i&&i,s=Ie({access_token:t,country:n,language:a,types:"postcode,place,address",autocomplete:o,fuzzyMatch:!!o});return"https://api.mapbox.com/geocoding/v5/mapbox.places/"+encodeURIComponent(r)+".json?"+s}var Ne,Ae=!1,Re=!1,Le=function(){return Ne||(Ne=document.head.querySelector('script[src="'+Ce+'"]')?Promise.resolve():new Promise((function(e,t){var n=document.createElement("script");n.src=Ce,n.onload=function(){Ae=!0,e()},n.onerror=function(){t()},document.head.appendChild(n)})))},we=function(){var e;return function(){return e||(e=document.head.querySelector('link[href="'+Ee+'"]')?Promise.resolve():new Promise((function(e,t){var n=document.createElement("link");n.rel="stylesheet",n.href=Ee,n.onload=function(){Re=!0,e()},n.onerror=function(){t()},document.head.appendChild(n)})))}}(),ke=r.a.createElement("span",null),Me=function(e){return function(t){var n=Object(Z.b)(),a=r.a.useState({jsLoaded:Ae,cssLoaded:Re,pending:!1,ready:Ae&&Re,error:void 0}),i=a[0],o=a[1],s=i.pending,l=i.ready,c=i.error,u=i.jsLoaded,f=i.cssLoaded,_=u&&f;return l||c||s||_||(o((function(e){return Object.assign({},e,{pending:!0})})),u||Le().then((function(){window.mapboxgl.accessToken=n,o((function(e){return Object.assign({},e,{jsLoaded:!0})}))})).catch((function(e){o((function(t){return Object.assign({},t,{error:e.message})}))})),f||we().then((function(){o((function(e){return Object.assign({},e,{cssLoaded:!0})}))})).catch((function(e){o((function(t){return Object.assign({},t,{error:e.message})}))}))),s&&_&&o((function(e){return Object.assign({},e,{pending:!1,ready:!0})})),l?r.a.createElement(e,t):c?r.a.createElement("span",null,c):ke}},Pe="http://www.w3.org/2000/svg",Be=function(e){var t=e.viewBox,n=void 0===t?"0 0 40 40":t,a=e.width,r=void 0===a?"40":a,i=e.height,o=void 0===i?"40":i,s=e.className,l=document.createElementNS(Pe,"svg");return l.setAttributeNS(null,"display","block"),l.setAttributeNS(null,"viewBox",n),l.setAttributeNS(null,"width",r),l.setAttributeNS(null,"height",o),s&&l.classList.add(s),l},xe=function(e){var t=document.createElementNS(Pe,"path");return Object.keys(e).forEach((function(n){void 0!==e[n]&&t.setAttributeNS(null,n,""+e[n])})),t},De=function(e){var t=e.color,n=void 0===t?"#000000":t,a=e.className,r=Be({viewBox:"0 0 40 50",width:20,height:25,className:a});r.appendChild(xe({d:"M20,0C8.854,0,0,8.956,0,20c0,14.877,20,30,20,30s20-15.123,20-30C40,8.804,31.146,0,20,0z",fill:n,stroke:"#ffffff","stroke-width":4}));var i=document.createElement("div");return i.appendChild(r),i},Ue=De,je=function(e){return void 0===e&&(e=[]),{type:"FeatureCollection",features:e.map((function(e){return{type:"Feature",properties:{id:e.id},geometry:{type:"Point",coordinates:[e.location.lng,e.location.lat]}}}))}},He=function(e){return{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.lng,e.lat]}}]}},Ge=n(43),ze=function(e,t,n){var a=t.marker.getElement();a.removeChild(a.childNodes[0]),a.appendChild(n.childNodes[0])},Ke=function(e,t){var n=window.mapboxgl,a=new n.LngLatBounds;return a.extend(new n.LngLat(e.lng,e.lat)),t.forEach((function(e){var t=e.marker;a.extend(t.getLngLat())})),a},Fe=function(e){return e?{left:10,top:40,right:10,bottom:200}:Object(Ge.a)()?{left:20,top:20,right:380,bottom:20}:{left:380,top:20,right:20,bottom:20}},We=Me((function(e){var t=e.activeMarkerId,n=e.className,a=e.clusterMarkerColor,i=e.clusterTextColor,o=e.highlightedMarkerId,s=e.isMobile,l=e.mapTheme,c=e.markerColor,u=e.markerStyles,f=e.markers,_=e.onClickMarker,d=e.searchLocation,p=r.a.useState(!1),h=p[0],m=p[1],y=Object(Z.d)(),g=Object(Z.c)(),b=r.a.useRef(null),T=r.a.useRef({country:g,language:y,isMobile:s,markerColor:c,markerStyles:u,onClickMarker:_,clusterMarkerColor:a,clusterTextColor:i,searchLocation:d,padding:Fe(s),map:null,searchMarker:null,searchResults:[],shopMarkers:[]});return r.a.useEffect((function(){T.current.isMobile=s,T.current.padding=Fe(s),T.current.map&&T.current.map.setPadding(T.current.padding)}),[T,s]),r.a.useEffect((function(){T.current.country=g,T.current.language=y}),[g,y]),r.a.useEffect((function(){d&&(T.current.searchLocation=d,T.current.map&&T.current.map.getSource("searchlocation").setData(He(d)))}),[d]),r.a.useEffect((function(){f&&(T.current.searchResults=f,T.current.map&&T.current.map.getSource("localstores").setData(je(f)))}),[f]),r.a.useEffect((function(){var e=!1,t=b.current;if(t&&d&&!T.current.map){var n=new window.mapboxgl.Map({container:t,center:[d.lng,d.lat],zoom:12,maxZoom:16,minZoom:8,style:"grey"===l?"mapbox://styles/mapbox/light-v10":"mapbox://styles/mapbox/streets-v11",hash:!1}),a=function(){if(!e){var t=T.current.shopMarkers;!function(e){var t=e.map,n=e.shopMarkers,a=t.querySourceFeatures("localstores").filter((function(e){return!e.properties.cluster})).map((function(e){return e.properties.id}));n.forEach((function(e){-1!==a.indexOf(e.id)?e.onScreen||(e.onScreen=!0,e.marker.addTo(t)):e.onScreen&&(e.onScreen=!1,e.marker.remove())}))}({map:n,shopMarkers:t})}};n.on("load",(function(){if(!e){var t=T.current,r=t.clusterMarkerColor,i=t.clusterTextColor,o=t.padding,s=t.searchResults,l=t.shopMarkers;n.setPadding(o),T.current.map=n,n.addSource("searchlocation",{type:"geojson",data:He(d)}),n.addSource("localstores",{type:"geojson",data:je(s),cluster:!0,clusterRadius:30,clusterMaxZoom:12}),n.addLayer({id:"search-outer",interactive:!1,type:"circle",source:"searchlocation",paint:{"circle-color":"#000000","circle-radius":10,"circle-stroke-color":"#ffffff","circle-stroke-width":2}}),n.addLayer({id:"search-inner",interactive:!1,type:"circle",source:"searchlocation",paint:{"circle-color":"#ffffff","circle-radius":3}}),n.addLayer({id:"cluster-circle",interactive:!0,type:"circle",source:"localstores",filter:["has","point_count"],paint:{"circle-color":r,"circle-radius":["step",["get","point_count"],15,2,20,10,24],"circle-stroke-color":i,"circle-stroke-width":2}}),n.addLayer({id:"cluster-label",interactive:!1,type:"symbol",source:"localstores",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Semibold"],"text-size":15},paint:{"text-color":i}}),n.on("click","cluster-circle",(function(e){var t=e.lngLat;n.flyTo({center:t,zoom:15})})),n.on("data",(function(e){var t=e.sourceId,n=e.isSourceLoaded;"localstores"===t&&n&&a()})),n.on("move",a),n.on("moveend",a),n.on("idle",a),n.fitBounds(Ke(d,l)),m(!0)}}))}return function(){e=!0}}),[b,l,d]),r.a.useEffect((function(){if(f){var e=window.mapboxgl,t=T.current,n=t.map,a=t.markerColor,r=t.markerStyles,i=t.onClickMarker,o=t.searchLocation,s=t.shopMarkers;f.forEach((function(t){if(!function(e,t){return e.filter((function(e){return e.id===t}))[0]}(s,t.id)){var n=De({color:a,className:r.marker}),o=new e.Marker({anchor:"bottom",element:n}).setLngLat([t.location.lng,t.location.lat]),l=function(){i(t.id)};n.addEventListener("click",l),s.push(Object.assign({},t,{marker:o,clickHandler:l}))}})),n&&s.length>1&&n.fitBounds(Ke(o,s))}}),[f]),r.a.useEffect((function(){if(h){var e,n=T.current,a=n.map,r=n.markerColor,i=n.markerStyles,o=n.searchLocation,s=n.shopMarkers;if(a&&o)s.forEach((function(n){return n.id===t?(e=n,n.isActive||(ze(0,n,function(e){var t=e.color,n=void 0===t?"#000000":t,a=e.className,r=Be({viewBox:"0 0 40 50",width:40,height:50,className:a});r.appendChild(xe({d:"M21,1C9.854,1,1,9.956,1,21c0,14.877,20,30,20,30 s20-15.123,20-30C41,9.804,32.146,1,21,1z M21,26c-2.761,0-5-2.239-5-5s2.239-5,5-5c2.76,0,5,2.239,5,5S23.76,26,21,26z",fill:n,stroke:"#ffffff","stroke-width":2}));var i=document.createElement("div");return i.appendChild(r),i}({color:r,className:i.activeMarker})),n.isActive=!0)):n.isActive&&(ze(0,n,De({color:r,className:i.marker})),n.isActive=!1),n})),e?a.flyTo({center:[e.location.lng,e.location.lat],zoom:Math.max(a.getZoom(),15)}):a.fitBounds(Ke(o,s))}}),[h,t]),r.a.useEffect((function(){var e=T.current,t=e.map,n=e.markerColor,a=e.markerStyles,r=e.searchLocation,i=e.shopMarkers;t&&r&&i.forEach((function(e){e.id===o?e.isActive||e.isHighlighted||(ze(0,e,Ue({color:n,className:a.highlightedMarker})),e.isHighlighted=!0):e.isHighlighted&&(e.isActive||ze(0,e,De({color:n,className:a.marker})),e.isHighlighted=!1)}))}),[o]),r.a.createElement("div",{className:n,ref:b,style:{position:"absolute",left:0,top:0,width:"100%",height:"100%"}})}));function Ze(){var e=r.a.useContext(H.a),t=e.apiKey,n=e.country,a=e.language;return r.a.useCallback((function(e){var r=function(e){var t=e.apiKey,n=e.location,a=Ie({access_token:t,language:e.language,types:"postcode,country"});return"https://api.mapbox.com/geocoding/v5/mapbox.places/"+n.lng+","+n.lat+".json?"+a}({apiKey:t,country:n,language:a,location:e});return fetch(r).then((function(e){return e.json()})).then((function(e){return function(e){if(e&&e.features&&e.features.length>0){var t={};return e.features.forEach((function(e){switch(e.place_type[0]){case"postcode":var n=e.place_name.split(", ");t.zip=e.text,t.city=n[1],t.country=n[n.length-1],t.address=e.place_name;break;case"country":t.country=e.text}})),t}}(e)}))}),[t,n,a])}var Ve,Ye,Je,qe=n(17),Xe=n(18),Qe=n(27),$e=Object(y.b)(Xe.a.div.attrs((function(){return{role:"listbox"}}))(Ve||(Ve=Object(qe.a)(["\n    background-color: #fff;\n    position: absolute;\n    left: 0;\n    top: 100%;\n    width: 100%;\n    z-index: 4000;\n    margin-top: 2px;\n    box-shadow: 0 0 4px rgba(0, 0, 0, 0.2);\n    border: 1px solid #c8c8c8;\n"])))),et=Object(y.b)(Xe.a.div.attrs((function(e){var t=e.active;return{role:"listitem","aria-selected":!!(void 0!==t&&t)}}))(Ye||(Ye=Object(qe.a)(["\n    background-color: ",";\n    padding: 5px 10px 5px 5px;\n    cursor: pointer;\n    font-size: 13px;\n    line-height: 15px;\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: flex-start;\n    :not(:last-child) {\n        border-bottom: 1px solid #eff0f4;\n    }\n    & svg {\n        flex: 0 0 16px;\n        margin-right: 5px;\n        opacity: ",";\n    }\n    &:hover {\n        background-color: #eff0f4;\n        & svg {\n            opacity: 1;\n        }\n    }\n"])),(function(e){var t=e.active;return void 0!==t&&t?"#eff0f4":"#fff"}),(function(e){var t=e.active;return void 0!==t&&t?1:.5}))),tt=Xe.a.div(Je||(Je=Object(qe.a)(["\n    padding: 5px;\n    font-size: 11px;\n    line-height: 13px;\n    background-color: #fff;\n"]))),nt=r.a.createElement(tt,null,"© Mapbox https://www.mapbox.com/about/maps"),at=function(e){var t=e.data,n=e.onSelect,a=e.activeIndex,i=r.a.useContext(y.a).theme;return r.a.createElement($e,null,t.features.map((function(e,t){return r.a.createElement(et,{key:e.id,onClick:function(){return n(e)},active:t===a},r.a.createElement(Qe.j,{active:!0,size:16,color:i.palette.color0}),e.place_name)})),nt)},rt=function(e){var t=e.data,n=e.onSelect,a=e.inputRef,i=r.a.useState(-1),o=i[0],s=i[1];return r.a.useEffect((function(){var e=a.current;if(t&&e){var n=t.features.length,r=function(e){switch(e.key){case"ArrowDown":s((function(e){return Math.min(n-1,e+1)}));break;case"ArrowUp":s((function(e){return Math.max(0,e-1)}))}};return e.addEventListener("keydown",r),function(){e.removeEventListener("keydown",r)}}}),[t,a]),r.a.useEffect((function(){var e=a.current;e&&t&&t.features[o]&&(e.value=t.features[o].place_name)}),[t,a,o]),t?r.a.createElement(at,{data:t,onSelect:n,activeIndex:o}):null},it=["className","placeholder","resetKey","value","style","searchLocation","onFocus","onBlur","onChange","onSubmit","onLocationChange","onAutoDetectAddress"],ot=function(e){var t,n,a,i,o=e.className,s=e.placeholder,l=void 0===s?"":s,c=e.resetKey,u=void 0===c?0:c,f=(e.value,e.style),_=e.searchLocation,d=e.onFocus,p=e.onBlur,h=e.onChange,m=e.onSubmit,y=e.onLocationChange,g=e.onAutoDetectAddress,b=Object(de.a)(e,it),T=(t=r.a.useContext(H.a),n=t.apiKey,a=t.country,i=t.language,r.a.useCallback((function(e){var t=Se({apiKey:n,country:a,language:i,address:e,autocomplete:!1});return fetch(t).then((function(e){return e.json()})).then((function(e){return function(e){if(e&&e.features&&e.features.length>0){var t={};return e.features.forEach((function(e){var n=e.place_name.split(", ");switch(e.place_type[0]){case"postcode":t.zip||(t.lat=e.center[1],t.lng=e.center[0],t.zip=e.text,t.city=n[1],t.country=n[n.length-1],t.address=e.place_name);break;default:t.address||(t.lat=e.center[1],t.lng=e.center[0],t.country=n[n.length-1],t.address=e.place_name)}})),t}}(e)}))}),[n,a,i])),v=Ze(),O=function(){var e=r.a.useContext(H.a),t=e.apiKey,n=e.country,a=e.language;return r.a.useCallback((function(e){var r=Se({apiKey:t,country:n,language:a,address:e,autocomplete:!0});return fetch(r).then((function(e){return e.json()}))}),[t,n,a])}(),C=r.a.useState(null),E=C[0],I=C[1],S=r.a.useState(null),N=S[0],A=S[1],R=r.a.useRef(null);r.a.useEffect((function(){E&&y&&y(E)}),[E,y]),r.a.useEffect((function(){var e=R.current;e&&(_?_.address?e.value=_.address:_.lat&&_.lng&&v(_).then((function(e){var t=R.current;t&&e&&e.address&&(_.address=e.address,_.city=e.city||"",_.country=e.country||"",_.zip=e.zip||"",t.value=_.address,g&&g(e))})):(e.value="",e.blur()))}),[R,_,g,v]),r.a.useEffect((function(){var e,t=R.current;return t&&u>0&&(t.value="",A(null),e=setTimeout((function(){t.focus()}),10)),function(){e&&clearTimeout(e)}}),[R,u]);var L=r.a.useCallback((function(e){e&&I({lat:e.center[1],lng:e.center[0],address:e.place_name}),A(null)}),[]),w=r.a.useCallback((function(e){e.target.value.length>1?O(e.target.value).then((function(e){e&&e.features&&e.features.length>0?A(e):A(null)})):A(null),h&&h(e)}),[O,h]),k=r.a.useCallback((function(e){_&&_.address&&""===e.target.value&&Date.now()-u>100&&(e.target.value=_.address),setTimeout((function(){A(null)}),100),p&&p(e)}),[_,u,p]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object(_e.a)({className:o,style:f,type:"search",autoComplete:"off",spellCheck:"false",placeholder:l,onKeyDown:function(e){if("Enter"===e.key||13===e.keyCode){var t=e.target.value;t.length>2&&(A(null),T(t).then((function(e){var t=R.current;t&&e&&e.lat&&e.lng&&e.address&&(I(e),t.value=e.address,t.blur())}))),m&&m(t)}},onFocus:d,onBlur:k,onChange:w,ref:R},b)),N&&r.a.createElement(rt,{inputRef:R,data:N,onSelect:L}))},st={getMapComponent:function(){return We},getSearchInputComponent:function(){return ot}};function lt(e){return Object.keys(e).map((function(t){return t+"="+e[t]})).join("&")}function ct(e){var t=e.apiKey,n=(e.country,e.address);e.autocomplete;return"https://api.map.baidu.com/place/v2/suggestion?"+lt({query:n,ak:t,region:"全国",output:"json"})}var ut=!1,ft="",_t=function(){var e;return function(){return e||(e=new Promise((function(e,t){var n=document.createElement("script"),a=document.createElement("script");n.src="https://fi-v2.global.commerce-connector.com/baiduScripts/markerCluster.min.js",a.src="https://fi-v2.global.commerce-connector.com/baiduScripts/textOverlay.min.js",document.head.appendChild(n),document.head.appendChild(a),a.onload=function(){e()},a.onerror=function(){t()},n.onerror=function(){t()}})))}}(),dt=function(){var e;return function(){return e||(e=document.head.querySelector('script[src="'+ft+'"]')?Promise.resolve():new Promise((function(e,t){window.ccApiLoad=function(){e()};var n=document.createElement("script");n.src=ft,n.onload=function(){ut=!0},n.onerror=function(){t()},document.head.appendChild(n)})))}}(),pt=r.a.createElement("span",null);var ht=function(e){return new window.BMap.Symbol(function(e){return'<svg display="block" viewBox="0 0 30 30" width="30" height="30">\n        <path d="\'M20,0C8.854,0,0,8.956,0,20c0,14.877,20,30,20,30s20-15.123,20-30C40,8.804,31.146,0,20,0z\'" fill="'+e+'" stroke="#ffffff" stroke-width="4"></path>\n    </svg>'}(e),{rotation:0,fillColor:e,fillOpacity:1,scale:.6})},mt=function(e){return ht(e)},yt=function(e){return new window.BMap.Symbol(function(e){return'<svg display="block" viewBox="0 0 30 30" width="30" height="30">\n        <path d="\'M21,1C9.854,1,1,9.956,1,21c0,14.877,20,30,20,30 s20-15.123,20-30C41,9.804,32.146,1,21,1z M21,26c-2.761,0-5-2.239-5-5s2.239-5,5-5c2.76,0,5,2.239,5,5S23.76,26,21,26z\'" fill="'+e+'" stroke="#ffffff" stroke-width="4"></path>\n    </svg>'}(e),{rotation:0,fillColor:e,fillOpacity:1,scale:.9})},gt=[{featureType:"water",elementType:"geometry",stylers:{visibility:"on",color:"#ccd6d7ff"}},{featureType:"green",elementType:"geometry",stylers:{visibility:"on",color:"#dee5e5ff"}},{featureType:"building",elementType:"geometry",stylers:{visibility:"on"}},{featureType:"building",elementType:"geometry.topfill",stylers:{color:"#d1dbdbff"}},{featureType:"building",elementType:"geometry.sidefill",stylers:{color:"#d1dbdbff"}},{featureType:"building",elementType:"geometry.stroke",stylers:{color:"#aab6b6ff"}},{featureType:"subwaystation",elementType:"geometry",stylers:{visibility:"off",color:"#888fa0ff"}},{featureType:"education",elementType:"geometry",stylers:{visibility:"on",color:"#e1e7e7ff"}},{featureType:"medical",elementType:"geometry",stylers:{visibility:"on",color:"#d1dbdbff"}},{featureType:"scenicspots",elementType:"geometry",stylers:{visibility:"on",color:"#d1dbdbff"}},{featureType:"highway",elementType:"geometry",stylers:{visibility:"on",weight:4}},{featureType:"highway",elementType:"geometry.fill",stylers:{color:"#ffffffff"}},{featureType:"highway",elementType:"geometry.stroke",stylers:{color:"#cacfcfff"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"on"}},{featureType:"highway",elementType:"labels.text.fill",stylers:{color:"#999999ff"}},{featureType:"highway",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"highway",elementType:"labels.icon",stylers:{visibility:"on"}},{featureType:"arterial",elementType:"geometry",stylers:{visibility:"on",weight:2}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#fbfffeff"}},{featureType:"arterial",elementType:"geometry.stroke",stylers:{color:"#cacfcfff"}},{featureType:"arterial",elementType:"labels",stylers:{visibility:"on"}},{featureType:"arterial",elementType:"labels.text.fill",stylers:{color:"#999999ff"}},{featureType:"arterial",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"local",elementType:"geometry",stylers:{visibility:"on",weight:1}},{featureType:"local",elementType:"geometry.fill",stylers:{color:"#fbfffeff"}},{featureType:"local",elementType:"geometry.stroke",stylers:{color:"#cacfcfff"}},{featureType:"local",elementType:"labels",stylers:{visibility:"off"}},{featureType:"local",elementType:"labels.text.fill",stylers:{color:"#999999ff"}},{featureType:"local",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"railway",elementType:"geometry",stylers:{visibility:"off",weight:1}},{featureType:"railway",elementType:"geometry.fill",stylers:{color:"#9494941a"}},{featureType:"railway",elementType:"geometry.stroke",stylers:{color:"#ffffff1a"}},{featureType:"subway",elementType:"geometry",stylers:{visibility:"off",weight:1}},{featureType:"subway",elementType:"geometry.fill",stylers:{color:"#c3bed433"}},{featureType:"subway",elementType:"geometry.stroke",stylers:{color:"#ffffff33"}},{featureType:"subway",elementType:"labels",stylers:{visibility:"off"}},{featureType:"subway",elementType:"labels.text.fill",stylers:{color:"#979c9aff"}},{featureType:"subway",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"continent",elementType:"labels",stylers:{visibility:"on"}},{featureType:"continent",elementType:"labels.icon",stylers:{visibility:"on"}},{featureType:"continent",elementType:"labels.text.fill",stylers:{color:"#333333ff"}},{featureType:"continent",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"city",elementType:"labels.icon",stylers:{visibility:"on"}},{featureType:"city",elementType:"labels",stylers:{visibility:"on"}},{featureType:"city",elementType:"labels.text.fill",stylers:{color:"#454d50ff"}},{featureType:"city",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"town",elementType:"labels.icon",stylers:{visibility:"on"}},{featureType:"town",elementType:"labels",stylers:{visibility:"off"}},{featureType:"town",elementType:"labels.text.fill",stylers:{color:"#454d50ff"}},{featureType:"town",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"road",elementType:"labels",stylers:{visibility:"off"}},{featureType:"road",elementType:"geometry.fill",stylers:{color:"#fbfffeff"}},{featureType:"poilabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"districtlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"poilabel",elementType:"labels.text.fill",stylers:{color:"#999999ff"}},{featureType:"districtlabel",elementType:"labels.text.fill",stylers:{color:"#888fa0ff"}},{featureType:"transportation",elementType:"geometry",stylers:{color:"#d1dbdbff"}},{featureType:"companylabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"restaurantlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"lifeservicelabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"carservicelabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"financelabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"otherlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"village",elementType:"labels",stylers:{visibility:"off"}},{featureType:"district",elementType:"labels",stylers:{visibility:"off"}},{featureType:"land",elementType:"geometry",stylers:{color:"#edf3f3ff"}},{featureType:"nationalway",elementType:"geometry.stroke",stylers:{color:"#cacfcfff"}},{featureType:"provincialway",elementType:"geometry.stroke",stylers:{color:"#cacfcfff"}},{featureType:"cityhighway",elementType:"geometry.stroke",stylers:{color:"#cacfcfff"}},{featureType:"road",elementType:"geometry.stroke",stylers:{color:"#cacfcfff"}},{featureType:"subwaylabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"subwaylabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"tertiarywaysign",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"tertiarywaysign",elementType:"labels",stylers:{visibility:"off"}},{featureType:"provincialwaysign",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"provincialwaysign",elementType:"labels",stylers:{visibility:"off"}},{featureType:"nationalwaysign",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"nationalwaysign",elementType:"labels",stylers:{visibility:"off"}},{featureType:"highwaysign",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"highwaysign",elementType:"labels",stylers:{visibility:"off"}},{featureType:"nationalway",elementType:"geometry.fill",stylers:{color:"#fbfffeff"}},{featureType:"nationalway",elementType:"labels.text.fill",stylers:{color:"#999999ff"}},{featureType:"provincialway",elementType:"labels.text.fill",stylers:{color:"#999999ff"}},{featureType:"cityhighway",elementType:"labels.text.fill",stylers:{color:"#999999ff"}},{featureType:"cityhighway",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"highway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,8",level:"6"}},{featureType:"highway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,8",level:"7"}},{featureType:"highway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,8",level:"8"}},{featureType:"highway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,8",level:"6"}},{featureType:"highway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,8",level:"7"}},{featureType:"highway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,8",level:"8"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,8",level:"6"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,8",level:"7"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,8",level:"8"}},{featureType:"nationalway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,8",level:"6"}},{featureType:"nationalway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,8",level:"7"}},{featureType:"nationalway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,8",level:"8"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,8",level:"6"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,8",level:"7"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,8",level:"8"}},{featureType:"nationalway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,8",level:"6"}},{featureType:"nationalway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,8",level:"7"}},{featureType:"nationalway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,8",level:"8"}},{featureType:"provincialway",stylers:{curZoomRegionId:"0",curZoomRegion:"8,8",level:"8"}},{featureType:"provincialway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"8,8",level:"8"}},{featureType:"provincialway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"8,8",level:"8"}},{featureType:"cityhighway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,8",level:"6"}},{featureType:"cityhighway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,8",level:"7"}},{featureType:"cityhighway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,8",level:"8"}},{featureType:"cityhighway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,8",level:"6"}},{featureType:"cityhighway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,8",level:"7"}},{featureType:"cityhighway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,8",level:"8"}},{featureType:"cityhighway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,8",level:"6"}},{featureType:"cityhighway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,8",level:"7"}},{featureType:"cityhighway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,8",level:"8"}},{featureType:"cityhighway",elementType:"geometry.fill",stylers:{color:"#fbfffeff"}},{featureType:"water",elementType:"labels.text.fill",stylers:{color:"#8f5a33ff"}},{featureType:"water",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"country",elementType:"labels.text.fill",stylers:{color:"#8f5a33ff"}},{featureType:"country",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"country",elementType:"labels.text",stylers:{fontsize:28}},{featureType:"manmade",elementType:"geometry",stylers:{color:"#dfe7e7ff"}},{featureType:"provincialway",elementType:"geometry.fill",stylers:{color:"#fbfffeff"}},{featureType:"tertiaryway",elementType:"geometry.fill",stylers:{color:"#fbfffeff"}},{featureType:"manmade",elementType:"labels.text.fill",stylers:{color:"#999999ff"}},{featureType:"manmade",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"scenicspots",elementType:"labels.text.fill",stylers:{color:"#999999ff"}},{featureType:"scenicspots",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"airportlabel",elementType:"labels.text.fill",stylers:{color:"#999999ff"}},{featureType:"airportlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"scenicspotslabel",elementType:"labels.text.fill",stylers:{color:"#999999ff"}},{featureType:"scenicspotslabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"educationlabel",elementType:"labels.text.fill",stylers:{color:"#999999ff"}},{featureType:"educationlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"medicallabel",elementType:"labels.text.fill",stylers:{color:"#999999ff"}},{featureType:"medicallabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"companylabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"restaurantlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"hotellabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"hotellabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"shoppinglabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"shoppinglabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"lifeservicelabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"carservicelabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"transportationlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"transportationlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"financelabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"entertainment",elementType:"geometry",stylers:{color:"#d1dbdbff"}},{featureType:"estate",elementType:"geometry",stylers:{color:"#d1dbdbff"}},{featureType:"shopping",elementType:"geometry",stylers:{color:"#d1dbdbff"}},{featureType:"education",elementType:"labels.text.fill",stylers:{color:"#999999ff"}},{featureType:"education",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"medical",elementType:"labels.text.fill",stylers:{color:"#999999ff"}},{featureType:"medical",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"transportation",elementType:"labels.text.fill",stylers:{color:"#999999ff"}},{featureType:"transportation",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"poilabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"districtlabel",elementType:"labels",stylers:{visibility:"off"}}],bt=[{featureType:"poilabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"poilabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"districtlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"districtlabel",elementType:"labels.icon",stylers:{visibility:"off"}}];function Tt(e){return e?{top:-80,bottom:0,left:-40,right:-40}:Object(b.a)()?{right:380}:{left:380}}var vt,Ot,Ct,Et=function(e){return function(t){var n=Object(Z.b)(),a=r.a.useState({jsLoaded:ut,pending:!1,ready:ut,error:void 0}),i=a[0],o=a[1],s=i.pending,l=i.ready,c=i.error,u=i.jsLoaded,f=u;return l||c||s||f||(o((function(e){return Object.assign({},e,{pending:!0})})),u||(ft="https://api.map.baidu.com/api?v=3.0&ak="+n+"&&callback=ccApiLoad",dt().then((function(){_t().then((function(){o((function(e){return Object.assign({},e,{jsLoaded:!0})}))})).catch((function(e){o((function(t){return Object.assign({},t,{error:e.message})}))}))})).catch((function(e){o((function(t){return Object.assign({},t,{error:e.message})}))})))),s&&f&&o((function(e){return Object.assign({},e,{pending:!1,ready:!0})})),l?r.a.createElement(e,t):c?r.a.createElement("span",null,c):pt}}(function(e){function t(t){var n;return n=e.call(this,t)||this,Object(W.a)(Object(K.a)(n),"setContainerRef",(function(e){n.mapContainer=e})),Object(W.a)(Object(K.a)(n),"handleMapReady",(function(){n.updateMarkers()})),Object(W.a)(Object(K.a)(n),"createMap",(function(e,t){var a=window.BMap,r=n.props.searchLocation,i=new a.Map(e),o=new a.Point(r.lng,r.lat);switch(i.centerAndZoom(o,12),i.enableScrollWheelZoom(),i.disableMapClick(),i.disable3DBuilding(),n.setState({mapInstance:i}),t){case"grey":i.setMapStyleV2({styleJson:gt});break;default:i.setMapStyleV2({styleJson:bt})}n.setState({isMapReady:!0},n.handleMapReady)})),Object(W.a)(Object(K.a)(n),"createMapMarker",(function(e){var t,a=window.BMap,r=n.state.mapInstance,i=n.props,o=i.activeMarkerId,s=i.highlightedMarkerId,l=i.markerColor,c=i.activeMarkerColor,u=!1,f=!1,_=new a.Point(e.location.lng,e.location.lat);o&&e.id===o?(t=yt(c),u=!0):s&&e.id===s?(t=mt(c),f=!0):t=ht(l);var d={id:e.id,active:u,highlighted:f,marker:new a.Marker(_,{icon:t})};return r.addOverlay(d.marker),d.marker.addEventListener("click",(function(){return n.handleClickMapMarker(d)})),d})),Object(W.a)(Object(K.a)(n),"updateMarkers",(function(){var e,t=n.state,a=t.mapInstance,r=t.searchMarker,i=t.mapMarkers,o=window,s=o.BMap,l=o.BMapLib.MarkerClusterer,c=n.props,u=c.markers,f=c.searchLocation,_=c.activeMarkerId,d=n.props,p=d.clusterMarkerColor,h=d.clusterTextColor,m=d.clusterTextSize,y=r;if(f){var g=new s.Point(f.lng,f.lat),b=new s.Marker(g,{icon:(e="#000000",new window.BMap.Symbol('<svg display="block" viewBox="0 0 30 30" width="30" height="30"><path d="M17,2C8.716,2,2,8.716,2,17s6.716,15,15,15s15-6.716,15-15 S25.284,2,17,2z M17,19c-1.104,0-2-0.896-2-2s0.896-2,2-2s2,0.896,2,2S18.104,19,17,19z" fill="000000" stroke="#ffffff" stroke-width="2"></path></svg>',{rotation:0,fillColor:e,fillOpacity:1,scale:.9}))});a.addOverlay(b)}i&&i&&a.clearOverlays();var T,v=[];u&&u&&u.forEach((function(e){v.push(n.createMapMarker(e))})),l&&(T=new l(a,{markers:v.map((function(e){return e.marker})),styles:[{url:"",size:new s.Size(40,40),opt_anchor:[25,0],textColor:h,bgColor:p,opt_textSize:m}]})),n.setState({mapMarkers:v,searchMarker:y,markerClusterer:T},(function(){_?n.updateMapViewport():n.resetMapBounds()}))})),Object(W.a)(Object(K.a)(n),"getMapViewport",(function(){var e=n.state.mapInstance,t=n.props,a=t.markers,r=t.searchLocation,i=window.BMap,o=e.getZoom(),s=null,l=null;if(r&&(s=e.getCenter()),a&&a.length){if(l=e.getBounds(),r){var c=new i.Point(r.lng,r.lat);l.extend(c)}a.forEach((function(e){var t=new i.Point(e.location.lng,e.location.lat);l.extend(t)})),s=l.getCenter()}return{zoom:o,center:s,bounds:l}})),Object(W.a)(Object(K.a)(n),"resetMapBounds",(function(){var e=n.state.mapInstance,t=n.getMapViewport();t.bounds?e.setViewport(t.bounds):function(e,t){t.bounds;var n=t.center,a=t.zoom;e&&(n&&e.panTo(n),a&&e.setZoom(a))}(e,t)})),Object(W.a)(Object(K.a)(n),"highlightMarker",(function(e){var t=n.state.mapMarkers;if(t){var a=n.props,r=a.markerColor,i=a.activeMarkerColor;t.forEach((function(t){!t.active&&e&&e===t.id?t.highlighted||(t.highlighted=!0,t.marker.setZIndex(999),t.marker.setIcon(mt(i)),t.marker.setAnimation(2)):t.highlighted&&(t.highlighted=!1,t.active||(t.marker.setZIndex(t.zIndex),t.marker.setIcon(ht(r)),t.marker.setAnimation(0)))}))}})),Object(W.a)(Object(K.a)(n),"activateMarker",(function(e){var t=n.state.mapMarkers;if(t){var a=n.props,r=a.markerColor,i=a.activeMarkerColor;t.forEach((function(t){e&&e===t.id?(t.active=!0,t.marker.setIcon(yt(i)),t.marker.setZIndex(999),t.marker.setAnimation(0)):t.active&&(t.active=!1,t.marker.setIcon(ht(r)),t.marker.setZIndex(t.zIndex),t.marker.setAnimation(0))})),n.invalidateMapViewport()}})),Object(W.a)(Object(K.a)(n),"clearMapViewportTimeout",(function(){n.mapViewportTimeout&&(clearTimeout(n.mapViewportTimeout),n.mapViewportTimeout=null)})),Object(W.a)(Object(K.a)(n),"invalidateMapViewport",(function(){n.clearMapViewportTimeout(),n.mapViewportTimeout=setTimeout((function(){n.mapViewportTimeout=null,n.updateMapViewport()}),250)})),Object(W.a)(Object(K.a)(n),"updateMapViewport",(function(){var e=n.state,t=e.isMapReady,a=e.mapInstance,r=e.mapMarkers,i=n.props.activeMarkerId;if(t){var o=null;i&&r&&r.forEach((function(e){e.id===i&&(o=e)})),o?(a.setZoom(14),a.panTo(o.marker.getPosition())):n.resetMapBounds()}})),Object(W.a)(Object(K.a)(n),"handleClickMapMarker",(function(e){(0,n.props.onClickMarker)(e.id)})),n.state={isMapReady:!1,mapInstance:null,mapMarkers:null,mapPadding:Tt(t.isMobile),searchMarker:null,markerClusterer:null},n.mapContainer=null,n}Object(F.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.mapTheme;this.createMap("baiduContainer",e)},n.componentWillUnmount=function(){},n.componentDidUpdate=function(e,t){var n=this.state,a=n.isMapReady,r=n.markerClusterer,i=this.props,o=i.isMobile,s=i.markers,l=i.activeMarkerId,c=i.highlightedMarkerId,u=!1;a&&(s!==e.markers&&(u=!0),u?(r&&r.clearMarkers(),this.updateMarkers()):(l!==e.activeMarkerId&&this.activateMarker(l),c!==e.highlightedMarkerId&&this.highlightMarker(c))),o!==e.isMobile&&this.setState({mapPadding:Tt(o)},this.resetMapBounds)},n.render=function(){return r.a.createElement("div",{id:"baiduContainer",style:{height:"100%"}})},t}(r.a.Component)),It=n(39),St=n.n(It);function Nt(){var e=r.a.useContext(H.a).apiKey;return r.a.useCallback((function(t){var n=function(e){var t=e.apiKey,n=e.location;return e.language,"https://api.map.baidu.com/reverse_geocoding/v3?"+lt({ak:t,output:"json",coordtype:"wgs84ll",location:n.lat+","+n.lng})}({apiKey:e,location:t});return St()(n).then((function(e){return e.json()})).then((function(e){return function(e){var t=e.result;if(t)return{zip:t.cityCode,city:t.addressComponent.city,country:t.addressComponent.country,address:t.formatted_address}}(e)}))}),[e])}var At=Object(y.b)(Xe.a.div.attrs((function(){return{role:"listbox"}}))(vt||(vt=Object(qe.a)(["\n    background-color: #fff;\n    position: absolute;\n    left: 0;\n    top: 100%;\n    width: 100%;\n    z-index: 4000;\n    margin-top: 2px;\n    box-shadow: 0 0 4px rgba(0, 0, 0, 0.2);\n    border: 1px solid #c8c8c8;\n"])))),Rt=Object(y.b)(Xe.a.div.attrs((function(e){var t=e.active;return{role:"listitem","aria-selected":!!(void 0!==t&&t)}}))(Ot||(Ot=Object(qe.a)(["\n    background-color: ",";\n    padding: 5px 10px 5px 5px;\n    cursor: pointer;\n    font-size: 13px;\n    line-height: 15px;\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: flex-start;\n    :not(:last-child) {\n        border-bottom: 1px solid #eff0f4;\n    }\n\n    & svg {\n        flex: 0 0 16px;\n        margin-right: 5px;\n        opacity: ",";\n    }\n\n    div {\n        display: flex;\n        max-width: 97%;\n\n        span {\n            white-space: nowrap;\n        }\n\n        span:first-child {\n            color: black;\n        }\n\n        span:last-child {\n            color: #bbb;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            max-width: 100%;\n            display: inline-block;\n        }\n    }\n\n    &:hover {\n        background-color: #eff0f4;\n        & svg {\n            opacity: 1;\n        }\n    }\n"])),(function(e){var t=e.active;return void 0!==t&&t?"#eff0f4":"#fff"}),(function(e){var t=e.active;return void 0!==t&&t?1:.5}))),Lt=Xe.a.div(Ct||(Ct=Object(qe.a)(["\n    padding: 5px;\n    font-size: 11px;\n    line-height: 13px;\n    background-color: #fff;\n"]))),wt=r.a.createElement(Lt,null,"© Baidu https://api.map.baidu.com/lbsapi/"),kt=function(e){var t=e.data,n=e.onSelect,a=e.activeIndex,i=r.a.useContext(y.a).theme;return r.a.createElement(At,null,t.result.map((function(e,t){return e.location&&r.a.createElement(Rt,{key:e.uid,onClick:function(){return n(e)},active:t===a},r.a.createElement(Qe.j,{active:!0,size:16,color:i.palette.color0}),r.a.createElement("div",null,r.a.createElement("span",null,function(e){return e.address.length?e.address:"城市"===e.tag?e.name:e.province+" "+e.city+" "+e.name}(e)),"   ",r.a.createElement("span",null,function(e){return"  "+e.name}(e))))})),wt)},Mt=function(e){var t=e.data,n=e.onSelect,a=e.inputRef,i=r.a.useState(-1),o=i[0],s=i[1];return r.a.useEffect((function(){var e=a.current;if(t&&e){var n=t.result.length,r=function(e){switch(e.key){case"ArrowDown":s((function(e){return Math.min(n-1,e+1)}));break;case"ArrowUp":s((function(e){return Math.max(0,e-1)}))}};return e.addEventListener("keydown",r),function(){e.removeEventListener("keydown",r)}}}),[t,a]),r.a.useEffect((function(){var e=a.current;e&&t&&t.result[o]&&(e.value=t.result[o].address.length?t.result[o].address:t.result[o].name)}),[t,a,o]),t?r.a.createElement(kt,{data:t,onSelect:n,activeIndex:o}):null},Pt=["as","className","placeholder","resetKey","value","style","searchLocation","onFocus","onBlur","onChange","onSubmit","onLocationChange","onAutoDetectAddress"],Bt=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),xt=function(e){var t,n,a,i,o=e.as,s=void 0===o?"input":o,l=e.className,c=e.placeholder,u=void 0===c?"":c,f=e.resetKey,_=void 0===f?0:f,d=(e.value,e.style),p=e.searchLocation,h=e.onFocus,m=e.onBlur,y=e.onChange,g=e.onSubmit,b=e.onLocationChange,T=e.onAutoDetectAddress,v=Object(de.a)(e,Pt),O=Nt(),C=(t=r.a.useContext(H.a),n=t.apiKey,a=t.country,i=t.language,r.a.useCallback((function(e){var t=ct({apiKey:n,country:a,language:i,address:e,autocomplete:!0});return St()(t).then((function(e){return e.json()}))}),[n,a,i])),E=r.a.useState(null),I=E[0],S=E[1],N=r.a.useState(null),A=N[0],R=N[1],L=r.a.useRef(null),w=!1,k=function(e){"compositionend"===e.type?(w=!1,e.target instanceof HTMLInputElement&&!w&&Bt&&P(e)):w=!0};r.a.useEffect((function(){I&&b&&b(I)}),[I,b]),r.a.useEffect((function(){var e=L.current;e&&(p?p.address?e.value=p.address:p.lat&&p.lng&&O(p).then((function(e){var t=L.current;t&&e&&e.address&&(p.address=e.address,p.city=e.city||"",p.country=e.country||"",p.zip=e.zip||"",t.value=p.address,T&&T(e))})):(e.value="",e.blur()))}),[L,p,T,O]),r.a.useEffect((function(){var e,t=L.current;return t&&_>0&&(t.value="",R(null),e=setTimeout((function(){t.focus()}),10)),function(){e&&clearTimeout(e)}}),[L,_]);var M=r.a.useCallback((function(e){e&&S({lat:e.location.lat,lng:e.location.lng,address:e.address}),R(null)}),[]),P=r.a.useCallback((function(e){e.target instanceof HTMLInputElement&&!w&&(e.target.value.length>1?C(e.target.value).then((function(e){var t;e&&e.result&&e.result.length>0?R(((t=e).result=t.result.filter((function(e){return e.location})),t)):R(null)})):R(null),y&&y(e))}),[C,w,y]),B=r.a.useCallback((function(e){p&&p.address&&""===e.target.value&&Date.now()-_>100&&(e.target.value=p.address),setTimeout((function(){R(null)}),100),m&&m(e)}),[p,_,m]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(s,Object(_e.a)({className:l,style:d,type:"search",autoComplete:"off",spellCheck:"false",placeholder:u,onKeyDown:function(e){if(e.target instanceof HTMLInputElement&&!w&&("Enter"===e.key||13===e.keyCode)){var t=e.target.value;if(t.length>2){var n=A.result.find((function(e){return e.address.length?e.address===t:e.address.length?null:e.name===t}));if(n){S({lat:n.location.lat,lng:n.location.lng,address:n.address.length?n.address:n.name});var a=L.current;a&&n&&n.lat&&n.lng&&n.address&&(S(n),a.value=n.address.length?n.address:n.name,a.blur())}}g&&g(t),setTimeout((function(){R(null)}),100)}},onFocus:h,onBlur:B,onCompositionStart:k,onCompositionUpdate:k,onCompositionEnd:k,onChange:P,ref:L},v)),A&&r.a.createElement(Mt,{inputRef:L,data:A,onSelect:M}))},Dt={google:Oe,mapbox:st,baidu:{getMapComponent:function(){return Et},getSearchInputComponent:function(){return xt}}},Ut=function(e,t){var n=t.type,a=t.payload;switch(n){case G:return Object.assign({},e,{apiProvider:a.apiProvider,apiKey:a.apiKey,apiModule:a.apiModule});case z:if(a.country!==e.country)return Object.assign({},e,{country:a.country,language:a.language})}return e},jt=function(e){var t=e.apiKey,n=e.apiProvider,a=e.children,i=e.country,o=e.language,s=r.a.useReducer(Ut,{country:i,language:o}),l=s[0],c=s[1];return r.a.useEffect((function(){c({type:z,payload:{country:i,language:o}})}),[i,o]),r.a.useEffect((function(){t&&n&&Dt[n]&&c({type:G,payload:{apiProvider:n,apiKey:t,apiModule:Dt[n]}})}),[t,n]),r.a.createElement(H.a.Provider,{value:l},a)};function Ht(e,t){var n=t||{};if(!e)return n;if(Object.keys(e).forEach((function(t){var a=e[t];if(void 0!==a)switch(t){case"name":n[O.h.WIDGET_NAME]=a;break;case"vizualization_type":n[O.h.MODE]=a;break;case"size":n[O.h.POPUP_SIZE]=a;break;case"smart_channel_activation":n[O.h.SMART_CHANNEL_ACTIVATION]=a;break;case"channel_order":n[O.h.BUYNOW_CHANNELS]=a.map((function(e){return e.toLowerCase().replace("online",O.a.ONLINE).replace("store",O.a.LOCAL)}));break;case"where_to_buy_button":n[O.h.WTB_BUTTON_MODE]=!1!==a&&(a===O.u.DEFAULT?a:O.u.CC);break;case"brand_logo":"object"==typeof a&&"string"==typeof a.image_upload?(n[O.h.SHOW_BRAND_LOGO]=!0,n[O.h.BRAND_LOGO_IMAGE]=a.image_upload):"string"==typeof a&&(a.match(/^https?:\/\//)?(n[O.h.SHOW_BRAND_LOGO]=!0,n[O.h.BRAND_LOGO_IMAGE]=a):n[O.h.SHOW_BRAND_LOGO]=!1);break;case"country_selector":n[O.h.COUNTRY_SELECTOR]=a;break;case"online_channel_name":n[O.h.CHANNEL_NAME_BNO]=a;break;case"offline_channel_name":n[O.h.CHANNEL_NAME_BNIS]=a;break;case"product_variants":n[O.h.SHOW_PRODUCT_VARIANTS]=!!a;break;case"product_title":n[O.h.SHOW_PRODUCT_TITLE]=!!a;break;case"product_description":n[O.h.SHOW_PRODUCT_DESCRIPTION]=!!a;break;case"product_image":n[O.h.SHOW_PRODUCT_IMAGE]=!!a}})),n[O.h.BUYNOW_CHANNELS]||(n[O.h.BUYNOW_CHANNELS]=[O.a.ONLINE]),e.channel_selection&&n[O.h.BUYNOW_CHANNELS]){var a=e.channel_selection.map((function(e){return e.toLowerCase().replace("online",O.a.ONLINE).replace("store",O.a.LOCAL)}));n[O.h.BUYNOW_CHANNELS]=n[O.h.BUYNOW_CHANNELS].filter((function(e){return-1!==a.indexOf(e)})),0===n[O.h.BUYNOW_CHANNELS].length&&(n[O.h.BUYNOW_CHANNELS]=a.slice())}return e.where_to_buy_button&&(n=function(e,t){var n=t||{};return e&&"object"==typeof e?(Object.keys(e).forEach((function(t){var a=e[t];if(void 0!==a)switch(t){case"button_behaviour":n[O.h.WTB_BUTTON_BEHAVIOR]=a===O.t.STICKY?O.t.STICKY:O.t.DEFAULT;break;case"background_color":n[O.h.WTB_BUTTON_BG_COLOR]=a;break;case"label_&_border_color":n[O.h.WTB_BUTTON_TEXT_COLOR]=a}})),n):n}(e.where_to_buy_button,n)),e.header&&(n=function(e,t){var n=t||{};return e?"string"==typeof e?(n[O.h.SHOW_PRODUCT_HEADER]=!1,n):("object"!=typeof e||(Object.keys(e).forEach((function(t){var a=e[t];if(void 0!==a)switch(t){case"product_variant_selection":n[O.h.VARIANT_SELECTION_TYPE]=a;break;case"image_upload":n[O.h.BRAND_LOGO_IMAGE]=a;break;case"brand_logo":n[O.h.SHOW_BRAND_LOGO]=a;break;case"product_variants":n[O.h.SHOW_PRODUCT_VARIANTS]=!!a;break;case"product_title":n[O.h.SHOW_PRODUCT_TITLE]=!!a;break;case"product_description":n[O.h.SHOW_PRODUCT_DESCRIPTION]=!!a}})),n[O.h.SHOW_PRODUCT_TITLE]||n[O.h.SHOW_PRODUCT_VARIANTS]||n[O.h.SHOW_PRODUCT_DESCRIPTION]||(n[O.h.SHOW_PRODUCT_HEADER]=!1)),n):n}(e.header,n)),e.color_scheme&&(n=function(e,t){if(e){var n=e;return n.theme||(n.theme={}),n.theme.palette||(n.theme.palette={}),n.theme.palette.color0=t,n}}(n,e.color_scheme)),n}function Gt(e,t){var n=t,a={};return e&&Object.keys(e).forEach((function(t){var r=e[t];if(void 0!==r)switch(t){case"result_criterion":n[O.h.BNIS_RESULT_CRITERION]=r;break;case"click_&_collect/buy_online_link":n[O.h.CLICK_AND_COLLECT]=r&&"default"!==r;break;case"click_&_collect/buy_online_filter":n[O.h.BNIS_FILTER_CLICK_COLLECT]=r;break;case"product_in_stock_filter":n[O.h.BNIS_FILTER_IN_STOCK]=r;break;case"now_open_filter":n[O.h.BNIS_FILTER_NOW_OPEN]=r;break;case"max._n_of_retailers_per_page":n[O.h.BNIS_ITEMS_PER_PAGE]=r;break;case"API_key":n[O.h.BNIS_MAPS_API_KEY]=r;break;case"service_provider":n[O.h.BNIS_MAPS_API_PROVIDER]=r;break;case"distance_unit":n[O.h.BNIS_DISTANCE_UNIT]=r;break;case"search_radius":!isNaN(r)&&r>0&&(n[O.h.BNIS_SEARCH_RADIUS]=r);break;case"auto-locate_button":n[O.h.BNIS_SHOW_AUTOLOCATE_BTN]=r;break;case"bnis_footer_message":var i=r.display_type;n[O.h.BNIS_SHOW_DISCLAIMER_MESSAGE]="footer"===i||"footer_and_popup"===i,n[O.h.BNIS_SHOW_POPUP_DISCLAIMER_MESSAGE]="pop_up"===i||"footer_and_popup"===i;break;case"map_view_type":n[O.h.BNIS_SHOW_MAP]=!!r,r&&"object"==typeof r&&(r.hasOwnProperty("map_pin_color")&&(a.pinActiveColor=r.map_pin_color),r.hasOwnProperty("map_color_scheme")&&(n[O.h.BNIS_MAP_THEME]=r.map_color_scheme))}})),e["click_&_collect/buy_online_link"]&&(n=function(e,t){var n=t||{};return e&&"object"==typeof e?(Object.keys(e).forEach((function(t){var a=e[t];if(void 0!==a)switch(t){case"background_color":n[O.h.CLICK_COLLECT_BUTTON_BG_COLOR]=a;break;case"label_&_border_color":n[O.h.CLICK_COLLECT_BUTTON_TEXT_COLOR]=a}})),n):n}(e["click_&_collect/buy_online_link"],n)),e.product_availability_information?(n[O.h.BNIS_SHOW_STOCK_INFO]=!0,n=function(e,t){var n=t||{};if(!e||"object"!=typeof e)return n;var a=n.theme||{},r={};return Object.keys(e).forEach((function(t){var n=e[t];if(void 0!==n)switch(t){case"availability_stock_in_color":r.stockInColor=n;break;case"availability_stock_out_color":r.stockOutColor=n;break;case"availability_unknown_color":r.unknownColor=n}})),n.theme=Object.assign({},a,{availability:Object.assign({},a.availability,r)}),n}(e.product_availability_information,n)):n[O.h.BNIS_SHOW_STOCK_INFO]=!1,function(e,t){if(e){var n=e;return n.theme=Object.assign({},n.theme,t),n}}(n,a)}function zt(e,t){var n=t||{};if(!e||"object"!=typeof e)return n;switch(n=Ht(e.GENERAL,n),n=function(e,t){var n=t;return e&&Object.keys(e).forEach((function(t){var a=e[t];if(void 0!==a)switch(t){case"result_criterion":n[O.h.BNO_MAX_DELIVERY_TIME]=a;break;case"button_background_color":n[O.h.BNO_BUTTON_BG_COLOR]=a;break;case"button_label_&_border_color":n[O.h.BNO_BUTTON_TEXT_COLOR]=a;break;case"retailer_attribute(s)":n[O.h.BNO_SHOW_RETAILER_ATTRIBUTES]=a;break;case"max._n_of_retailers_per_page":n[O.h.BNO_ITEMS_PER_PAGE]=a,n[O.h.BNO_ITEMS_PER_PAGE_MOBILE]=a;break;case"price":n[O.h.BNO_SHOW_PRICE]=a;break;case"retailer_name":n[O.h.BNO_SHOW_RETAILER_NAME]=a;break;case"cart_icon":n[O.h.CART_ICON]=a;break;case"delivery_time":n[O.h.BNO_SHOW_DELIVERY_TIME]=a;break;case"fast_delivery_filter":case"retailer_fast_delivery_filter":n[O.h.BNO_FILTER_FAST_DELIVERY]=a;break;case"Retailer_type_(B2B/B2C)_filter":n[O.h.BNO_FILTER_B2B_B2C]=a;break;case"other_retailer_attribute_filter(s)":n[O.h.BNO_FILTER_SHOP_ATTRIBUTES]=a;break;case"footer_message":var r=a.display_type;n[O.h.BNO_SHOW_DISCLAIMER_MESSAGE]="footer"===r||"footer_and_popup"===r,n[O.h.BNO_SHOW_POPUP_DISCLAIMER_MESSAGE]="pop_up"===r||"footer_and_popup"===r;break;case"size":n[O.h.POPUP_SIZE]=a}})),n}(e.BUY_NOW_ONLINE,n),n=Gt(e.BUY_NOW_IN_STORE,n),e.type){case O.b.INLINE:n[O.h.MODE]=O.b.INLINE;break;case O.b.POPUP:n[O.h.MODE]=O.b.POPUP}return n}var Kt=n(30),Ft=function(){var e=navigator.userAgent,t={mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/,tablet:/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i};return t.tablet.test(e)?"tablet":t.mobile.test(e)?"mobile":"desktop"},Wt=function(){return Math.random().toString(36).substr(2,8)},Zt=function(){return Wt()+"-"+Wt()+"-"+Wt()+"-"+Wt()};var Vt=n(7),Yt={};Yt[O.h.MODE]=O.b.POPUP,Yt[O.h.TRIGGER_SELECTOR]='.cc-fi-button, [data-trigger="cci"]',Yt[O.h.POPUP_SIZE]=O.n.DEFAULT,Yt[O.h.BUYNOW_CHANNELS]=[O.a.ONLINE,O.a.LOCAL],Yt[O.h.CLICK_AND_COLLECT]=!0,Yt[O.h.WTB_BUTTON_MODE]=O.u.DEFAULT,Yt[O.h.WTB_BUTTON_BEHAVIOR]=O.t.DEFAULT,Yt[O.h.SHOW_TITLEBAR]=!0,Yt[O.h.SHOW_PRODUCT_HEADER]=!1,Yt[O.h.SHOW_PRODUCT_TITLE]=!1,Yt[O.h.SHOW_PRODUCT_IMAGE]=!1,Yt[O.h.SHOW_PRODUCT_VARIANTS]=!1,Yt[O.h.SHOW_PRODUCT_DESCRIPTION]=!1,Yt[O.h.SHOW_FILTER_BAR]=!0,Yt[O.h.SHOW_SHOP_RATING]=!1,Yt[O.h.SHOW_SHOP_BADGES]=!1,Yt[O.h.TARGET_CONTAINER]=null,Yt[O.h.BNO_MAX_RESULTS]=50,Yt[O.h.BNO_MAX_DELIVERY_TIME]=28,Yt[O.h.BNO_ITEMS_PER_PAGE]=6,Yt[O.h.BNO_ITEMS_PER_PAGE_MOBILE]=3,Yt[O.h.BNO_PAGINATION_TYPE]=O.m.LIST,Yt[O.h.BNO_FILTER_B2B_B2C]=!0,Yt[O.h.BNO_FILTER_FAST_DELIVERY]=!1,Yt[O.h.BNO_FILTER_SHOP_ATTRIBUTES]=!1,Yt[O.h.BNO_SHOW_RETAILER_NAME]=!0,Yt[O.h.BNO_SHOW_RETAILER_ATTRIBUTES]=!1,Yt[O.h.BNO_SHOW_DELIVERY_TIME]=!0,Yt[O.h.BNO_SHOW_PRICE]=!1,Yt[O.h.BNO_SHOW_DISCLAIMER_MESSAGE]=!1,Yt[O.h.CART_ICON]=!1,Yt[O.h.BNO_SHOW_POPUP_DISCLAIMER_MESSAGE]=!1,Yt[O.h.BNO_DISCLAIMER_MESSAGE_TYPE]=O.i.FOOTER,Yt[O.h.BNIS_MAPS_API_PROVIDER]="google",Yt[O.h.BNIS_MAP_THEME]="default",Yt[O.h.BNIS_SEARCH_RADIUS]=40,Yt[O.h.BNIS_MAX_RESULTS]=50,Yt[O.h.BNIS_ITEMS_PER_PAGE]=10,Yt[O.h.BNIS_FILTER_IN_STOCK]=!0,Yt[O.h.BNIS_FILTER_NOW_OPEN]=!0,Yt[O.h.BNIS_FILTER_CLICK_COLLECT]=!0,Yt[O.h.BNIS_SHOW_STOCK_INFO]=!0,Yt[O.h.BNIS_SHOW_AUTOLOCATE_BTN]=!0,Yt[O.h.BNIS_DISTANCE_UNIT]=O.j.KM,Yt[O.h.BNIS_SHOW_WHATS_APP]=!0;var Jt=Yt,qt=n(23);function Xt(e){var t=e.children,n=e.widget,i=Object(a.useState)(null),o=i[0],l=i[1],c=Object(a.useState)(null),u=c[0],_=c[1],d=Object(a.useState)(null),p=d[0],h=d[1],y=Object(a.useState)(g.a),b=y[0],C=y[1],E=Object(a.useState)(null),I=E[0],S=E[1],N=Object(a.useState)(null),A=N[0],R=N[1],L=Object(a.useState)(!1),w=L[0],k=L[1],M=Object(a.useState)(null),P=M[0],B=M[1],x=Object(a.useState)(!1),D=x[0],U=x[1],H=Object(a.useState)(!1),G=H[0],z=H[1],K=Object(a.useState)(!1),F=K[0],W=K[1],Z=Object(a.useState)(!1),V=Z[0],Y=Z[1],J=Object(a.useState)(!1),q=J[0],X=J[1],Q=Object(a.useState)(!1),$=Q[0],ee=Q[1],te=Object(a.useState)(null),ne=te[0],ae=te[1],re=Object(a.useState)(!1),ie=re[0],oe=re[1],se=Object(a.useState)(null),le=se[0],ce=se[1],ue=Object(a.useState)(null),fe=ue[0],_e=ue[1],de=Object(a.useState)(!1),pe=de[0],he=de[1],me=Object(a.useState)(null),ye=me[0],ge=me[1],be=Object(a.useState)(null),Te=be[0],ve=be[1],Oe=Object(a.useState)(null),Ce=Oe[0],Ee=Oe[1],Ie=Object(a.useState)({location:null,pending:!1,error:null}),Se=Ie[0],Ne=Ie[1],Ae=Object(a.useState)([]),Re=Ae[0],Le=Ae[1],we=Object(a.useState)([]),ke=we[0],Me=we[1],Pe=Object(a.useRef)(Zt()),Be=Object(a.useCallback)((function(e){return u&&void 0!==u[e]?u[e]:o&&void 0!==o[e]?o[e]:null}),[o,u]),xe=Object(a.useCallback)((function(e,t){var n={};return e.forEach((function(e){n[e]=t?t[e]:Be(e)})),n}),[Be]),De=Object(a.useCallback)((function(e){var t=Object.assign({},o,e);return Object(qt.c)("Subid",t)}),[o]),Ue=function(e){var t=Object(Kt.a)(window.location.href);return e.hasOwnProperty(O.h.GENERIC_TRACKING)&&(e[O.h.GENERIC_TRACKING]=JSON.parse(decodeURIComponent(e[O.h.GENERIC_TRACKING]))),Object.assign({},t,e)};Object(a.useEffect)((function(){if(!o){var e=Object(Vt.c)();if("script"===function(e){return e&&e[0]&&e[0].target?"multiple":"script"}(e)){e.length||(e=Object(Vt.l)(O.g));var t=Object(Vt.k)(),a=Object(Vt.b)(Object(Vt.i)(t)),r=Ue(a);if(Object(Vt.f)(r)){var i=Object.assign({},Jt,r,{_sessionId:Pe},{deviceType:Ft()});l(i),R(i[O.h.LOCALE])}else console.error("CCI: missing script tag attributes.")}else{var s=Object(Vt.b)(n),c=Ue(s);if(Object(Vt.f)(c)){var u=Object.assign({},Jt,c,{_sessionId:Pe},{deviceType:Ft()});l(u),R(u[O.h.LOCALE])}else console.error("CCI: missing script tag attributes.")}}var f=function(){var e=window.innerWidth/window.innerHeight,t=window.innerWidth<760;B(t),U(t&&e>1&&window.innerHeight<=540)};return f(),window.addEventListener("resize",f),function(){window.removeEventListener("resize",f)}}),[o]),Object(a.useEffect)((function(){if(o){var e=o[O.h.WIDGET_ID];R(o[O.h.LOCALE]),e&&function(e){var t=-1!==e.indexOf(".json"),n=t?f()+"demo/configs/"+e:"https://fi-v2-configs.global.commerce-connector.com/configurations/"+e+".json?v="+(new Date).getTime();return fetch(n).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){return t?e:zt(e)}))}(e).then((function(e){var t,n;e[O.h.BNIS_DISTANCE_UNIT]=(t=o.country,"automatic"===(n=e[O.h.BNIS_DISTANCE_UNIT])?["US","LR","MM","GB","UK"].includes(t)?"mi":"km":n),_(e)})).catch((function(e){_({})}))}}),[o]);var je=function(e){e.theme?C(Object.assign({},g.a,e.theme,{palette:Object.assign({},g.a.palette,e.theme.palette)})):C(g.a),e[O.h.POPUP_SIZE]&&ae(e[O.h.POPUP_SIZE]),Object(Vt.d)(e).length<1&&(e[O.h.SHOW_FILTER_BAR]=!1);var t=e.widgetid.split("_")[0];["Emjo9gg796","kMOxemmxj8"].includes(t)&&("zh-TW"===e.locale&&(e.locale="zn-TW",e.language="zn",e.displaylanguage="zn",e.country="TW"),"zh-HK"===e.locale&&(e.locale="zn-HK",e.language="zn",e.displaylanguage="zn",e.country="HK")),h(e)};Object(a.useEffect)((function(){if(u){var e=Object.assign({},o,u);Object(Vt.e)(e)?o[O.h.SUB_ID]&&o[O.h.SUB_ID].length?De(e).then((function(t){t.SubidResult&&(e[O.h.SUB_UNIQUE_ID]=t.SubidResult.Id),je(e)})).catch((function(t){e[O.h.SUB_UNIQUE_ID]=null,je(e)})):je(e):console.error("CCI: CONFIG_ERROR")}}),[o,u,De]),Object(a.useEffect)((function(){var e,t;pe||(e=document.createElement("style"),t="::-moz-focus-inner{ border:0 !important; }:focus{ outline: none !important; }",window.unfocus=function(){document.getElementsByTagName("HEAD")[0].appendChild(e),document.addEventListener("mousedown",(function(){e.innerHTML=t})),document.addEventListener("keydown",(function(){e.innerHTML=""}))},window.unfocus.style=function(e){t+=e},window.unfocus(),he(!0))}),[pe]),Object(a.useEffect)((function(){if(p){var e=p[O.h.COUNTRY_SELECTOR];if(e){var t,n=e.country_selection.map((function(e){return e.locale})),a=p[O.h.WIDGET_ID],r=localStorage?localStorage.getItem(a):null,i=function(e){if(e.default_country)return e.default_country.value?e.default_country.value.locale:e.default_country.locale}(e);if(i){var o=i.split("-");p[O.h.COUNTRY]=o[0],p[O.h.LANGUAGE]=o[1],t=Object(Vt.b)({country:p[O.h.COUNTRY],language:p[O.h.LANGUAGE]})}if(r)if(-1===n.indexOf(r))console.warn("storedLocale invalid",r,n),localStorage.clear();else{var s=r.split("-");p[O.h.COUNTRY]=s[0],p[O.h.LANGUAGE]=s[1],t=Object(Vt.b)({country:p[O.h.COUNTRY],language:p[O.h.LANGUAGE]})}t&&R(t.locale)}}}),[p]),Object(a.useEffect)((function(){if(p){var e=Object(Vt.d)(p);le===O.a.ONLINE?e=O.f.filter((function(t){return-1!==e.indexOf(t)})):le===O.a.LOCAL&&(e=O.e.filter((function(t){return-1!==e.indexOf(t)}))),Le(e)}}),[p,le]),Object(a.useEffect)((function(){if(p)if(I)w||(console.log("CCI: READY"),k(!0));else{var e=xe(O.q,p);e.ean&&e.ean.length<14&&(e.ean=Object(Vt.h)(e.ean,14,"0")),Object(Vt.g)(e)?S(e):w||(console.log("CCI: READY"),k(!0))}}),[p,I,w,xe]),Object(a.useEffect)((function(){G?Ne((function(e){return e.error||e.pending?Object.assign({},e,{error:null,pending:!1}):e})):X(!1)}),[G]),Object(a.useEffect)((function(){p&&"inline"===p[O.h.MODE]&&(p[O.h.TRACKING_VIEW_TYPE]=G?"extended":"default",h(p))}),[G,p]);var He=Object(a.useCallback)((function(e){if(!w)return!1;X(!1);var t=Object(Vt.j)(e);t.ean&&t.ean.length<14&&(t.ean=Object(Vt.h)(t.ean,14,"0"));var n=xe(O.q,t);return Object(Vt.g)(n)?(S(n),!0):(n=xe(O.q,null),!!Object(Vt.g)(n)&&(S(n),!0))}),[w,xe]),Ge=Object(a.useCallback)((function(){return p[O.h.COUNTRY_SELECTOR]?p[O.h.LANGUAGE]:o[O.h.LANGUAGE]}),[o,p]),ze=Object(a.useCallback)((function(){return p[O.h.COUNTRY_SELECTOR]?p[O.h.COUNTRY]:o[O.h.COUNTRY]}),[o,p]),Ke=Object(a.useCallback)((function(){Ne((function(e){return e.location||e.error||e.pending?{location:null,error:null,pending:!1}:e}))}),[]),Fe=Object(a.useCallback)((function(){var e,t=window.navigator,n=!1;return t&&t.geolocation&&(Ne((function(e){return Object.assign({},e,{error:null,pending:!0})})),e=setTimeout((function(){n||(n=!0,Ne({location:null,error:"timeout",pending:!1}))}),1e4),t.geolocation.getCurrentPosition((function(t){n||(n=!0,clearTimeout(e),t&&t.coords?Ne({location:{lat:t.coords.latitude,lng:t.coords.longitude},error:null,pending:!1}):Ne({location:null,error:"geoLocationError",pending:!1}))}),(function(){n||(n=!0,clearTimeout(e),Ne({location:null,error:"geoLocationError",pending:!1}))}))),{cancel:function(){n||(n=!0,e&&clearTimeout(e),Ne((function(e){return Object.assign({},e,{pending:!1})})))}}}),[]),We=Object(a.useCallback)((function(e){switch(e){case O.n.LARGE:ae(O.n.LARGE);break;case O.n.DEFAULT:case O.n.SMALL:default:ae(O.n.DEFAULT)}}),[]),Ze=Object(a.useCallback)((function(e){var t=Object(Vt.b)(e);t&&t.locale&&(p&&(p[O.h.COUNTRY]=t.country,p[O.h.LANGUAGE]=t.language,p[O.h.SUB_ID]&&p[O.h.SUB_ID].length&&De(p).then((function(e){e.SubidResult&&(p[O.h.SUB_UNIQUE_ID]=e.SubidResult.Id)}))),R(t.locale),_e(null))}),[p,De]),Ve=o?o[O.h.WIDGET_ID]:null,Ye=Object(Vt.a)(A);if(o&&o[O.h.DISPLAY_LANGUAGE]){if(Ye=Object(Vt.a)(o[O.h.DISPLAY_LANGUAGE]),p)p[O.h.COUNTRY_SELECTOR]&&(Ye=null==A?void 0:A.substring(0,2));"zh-TW"===A&&"zh"===Ye&&(Ye="zn"),"zh-HK"===A&&"zh"===Ye&&(Ye="zn")}return r.a.createElement(s.a.Provider,{value:{appConf:p,productConf:I,appTheme:b,locale:A,changeLocale:Ze,handleTriggerElement:He,getLanguage:Ge,getCountry:ze,isMobile:P,isMobileLandscape:D,isModalOpened:G,setIsModalOpened:z,isCountryModalOpened:F,setCountryModalOpened:W,isProductModalOpened:V,setProductModalOpened:Y,isFilterOpened:q,setIsFilterOpened:X,isDisclaimerOpen:$,setIsDisclaimerOpen:ee,searchLocation:fe,setSearchLocation:_e,geoLocation:Se,detectGeoLocation:Fe,resetGeolocation:Ke,modalLayout:ne,requestModalLayout:We,activeChannel:le,setActiveChannel:ce,availableFilters:Re,activeFilters:ke,setActiveFilters:Me,isWidgetOpenImpressionTriggered:ie,setWidgetOpenImpressionTriggered:oe,lastClickedBtn:ye,setLastClickedBtn:ge,hasBNOResults:Te,hasBNISResults:Ce,setHasBNOResults:ve,setHasBNISResults:Ee}},Ve&&Ye&&p&&r.a.createElement(m,{widgetId:Ve,locale:Ye,countrySelector:p[O.h.COUNTRY_SELECTOR]},w&&r.a.createElement(T,{theme:b},r.a.createElement(v.a,null,r.a.createElement(j,null,r.a.createElement(jt,{apiProvider:p[O.h.BNIS_MAPS_API_PROVIDER],apiKey:p[O.h.BNIS_MAPS_API_KEY],country:ze(),language:Ge()},t))))))}var Qt=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,158))})),$t=Object(a.lazy)((function(){return n.e(17).then(n.bind(null,160))})),en=r.a.createElement(a.Suspense,{fallback:""},r.a.createElement(Qt,null)),tn=r.a.createElement(a.Suspense,{fallback:""},r.a.createElement($t,null)),nn=function(){return Object(a.useContext)(s.a).appConf[O.h.MODE]===O.b.INLINE?en:tn},an=r.a.createElement(nn,null),rn=function(e){var t=e.widget;return r.a.createElement(Xt,{widget:t},an)},on=(n(64),n(65),["data-widgets","src","id","type","data-multiple","data-ean","data-man","data-pzn","data-widgetid","data-subid"]),sn=function(e){var t=document.getElementById(e.target);t?o.a.render(r.a.createElement(rn,{widget:e}),t):console.error('Target container with id "'+e.target+'" not found')},ln=r.a.createElement(rn,null),cn=document.getElementById("cci-widget"),un=cn&&"true"===cn.getAttribute("data-multiple"),fn=cn?function(e){try{for(var t=document.getElementById("cci-widget"),n=JSON.parse(e.getAttribute("data-widgets")),a={},r=0;r<t.attributes.length;r++){var i=t.attributes[r].name;!on.includes(i)&&i&&(a[i]=t.getAttribute(i))}return n?(n.forEach((function(e){for(var t in a){var n=t.includes("-")?t.split("-")[1]:t;e.hasOwnProperty(n)||(e[n]=a[t])}})),n):[]}catch(e){return console.error("Error parsing data-widgets attribute:",e),null}}(cn):[];un?function(e){Array.isArray(e)&&e.forEach(sn)}(fn):function(e){var t;if(e?e.getAttribute("data-target"):null){var n=e.getAttribute("data-target");t=document.getElementById(n)}else t=document.createElement("div"),document.body.appendChild(t);t.id="cci-root",t.classList.add("cci-root-container"),o.a.render(ln,t)}(cn)}],[[54,5,0]]]);